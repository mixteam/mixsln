!function(a,b){function c(a){return a+="",a.indexOf("px")<0&&a.indexOf("%")<0&&"0"!==a&&(a+="px"),a}function d(a){return a+="",a.indexOf("deg")<0&"0"!==a&&(a+="deg"),a}function e(a,b){return b||(b="-"),a.replace(/[a-z][A-Z]/g,"$1"+b+"$2").toLowerCase()}function f(a){var b=/ms|s|m|h$/.exec(a)[0],c={ms:1,s:1e3,m:6e4,h:36e5};return parseFloat(a)*c[b]}var g=/^matrix3d\((?:[-\d.]+,\s*){12}([-\d.]+),\s*([-\d.]+)(?:,\s*[-\d.]+){2}\)/,h=/^matrix\((?:[-\d.]+,\s*){4}([-\d.]+),\s*([-\d.]+)\)$/,i=/^(translate|rotate|scale)(X|Y|Z|3d)?|(matrix)(3d)?|(perspective)|(skew)(X|Y)?$/i,j=(/android/gi.test(navigator.appVersion),/iphone|ipad/gi.test(navigator.appVersion),"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix),k={translate:function(a,b,c,d,e,f,g){this.doTransition(a,{translate:[e,f]},{duration:b,timingFunction:c,delay:d,callback:g})},doTransition:function(a,b,g){function h(b){t||(a.removeEventListener("webkitTransitionEnd",h,!1),b&&b.srcElement!==a||(t=!0,setTimeout(g.callback,10)))}var k,l=[g.duration,g.timingFunction||"ease",g.delay||"0s"].join(" "),m="",n=[],o={};for(var p in b){var q=b[p];if(k=p.match(i)){q instanceof Array||(q=[q]);var r=k[1]||k[3]||k[5]||k[6],s=k[2]||k[4]||k[7]||"";"translate"===r&&""===s&&j&&(s="3d",q.push(0)),"translate"===r?q=q.map(c):("rotate"===r||"skew"===r)&&(q=q.map(d)),m+=r+s+"("+q.join(",")+")"}else n.push(e(p)+" "+l),o[p]=q;m&&n.push("-webkit-transform "+l)}var t=!1;g.callback&&a.addEventListener("webkitTransitionEnd",h,!1),setTimeout(h,1.2*f(g.duration)),setTimeout(function(){a.style.webkitTransition=n.join(", "),m.length&&(a.style.webkitTransform=m);for(var b in o)a.style[b]=o[b]},10)},genCubicBezier:function(a,b){return[[(a/3+(a+b)/3-a)/(b-a),(a*a/3+a*b*2/3-a*a)/(b*b-a*a)],[(b/3+(a+b)/3-a)/(b-a),(b*b/3+a*b*2/3-a*a)/(b*b-a*a)]]},makeTranslateString:function(a,b){return a=c(a),b=c(b),j?"translate3d("+a+", "+b+", 0)":"translate("+a+", "+b+")"},getTransformOffset:function(a){var b,c,d={x:0,y:0},e=getComputedStyle(a).webkitTransform;return"none"!==e&&(c=e.indexOf("matrix3d")>-1?g:h,(b=e.match(c))&&(d.x=parseInt(b[1])||0,d.y=parseInt(b[2])||0)),d}};b.module.Animation=k}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b){function c(){this._handlers={}}function d(a,b,c){e.isLogging&&console.log("[Message]",{scope:a,event:b,args:c})}function e(a){var b=this;this._scope=a,this._event=new c,this._cache={},this._handler=function(a){for(var c=a.type,d=a.args,e=b._cache[c].slice(),f=0;f<e.length;f+=2)e[f].apply(e[f+1],d)},h[a]=this}var f={addEventListener:function(a,b){var c,d=this._handlers;c=d[a]||(d[a]=[]),c.push(b)},removeEventListener:function(a,b){var c=this._handlers;c[a]&&(c[a]=c[a].filter(function(a){return a!=b}),c[a].length||delete c[a])},dispatchEvent:function(a){var b=this._handlers,c=a.type;b.hasOwnProperty(c)&&b[c].forEach(function(b){b(a)}),this["on"+c]&&this["on"+c](a)}};for(var g in f)c.prototype[g]=f[g];var h={},i=/\s+/,j={on:function(a,b,c){var d,e,f=this,g=f._cache,h=f._event;if(!b)return f;for(a=a.split(i);e=a.shift();)d=g[e]||(g[e]=[]),d.length||h.addEventListener(e,this._handler),d.push(b,c);return f},off:function(a,b,c){var d,e,f=this,g=f._cache,h=f._event;for(a=a?a.split(i):Object.keys(g);e=a.shift();){!(b||c)&&(g[e]=[]),d=g[e];for(var j=d.length-2;j>=0;j-=2)b&&d[j]!==b||c&&d[j+1]!==c||d.splice(j,2);d.length||(delete g[e],h.removeEventListener(e,this._handler))}return f},once:function(a,b,c){function d(){b.apply(this,arguments),e.off(a,d,c)}var e=this;return e.on(a,d,c)},after:function(a,b,c){function d(){for(var a in h)if(!h[a])return!1;return!0}function e(){for(var a in h)h[a]=!1}var f,g=this,h={};return b?(a=a.split(i),f=a.join("&&"),a.forEach(function(a){h[a]=!1,g.on(a,function(){h[a]=!0,d()&&(g.trigger(f),e())})}),void g.on(f,b,c)):g},trigger:function(a){var b,c,e=this,f=e._cache,g=e._event;for(a=a.split(i),b=Array.prototype.slice.call(arguments,1);c=a.shift();)d(this._scope,c,b),f[c]&&g.dispatchEvent({type:c,args:b});return e}};for(var g in j)e.prototype[g]=j[g];e.isLogging=!1,e.mixto=function(a,b){var c=e.get(b);a.prototype&&(a=a.prototype);for(var d in j)void function(b){a[d]=function(){b.apply(c,arguments)}}(j[d])},e.get=function(a){if("string"==typeof a)return h[a]||(h[a]=new e(a));if(a instanceof e)return a;throw new TypeError},b.module.Event=c,b.module.MessageScope=e}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b){function c(){}var d=(a.document,{load:function(a,b){var d=c.engine;d.load&&"string"==typeof a?d.load(a,b):b&&b(a)},compile:function(a){var b=c.engine;return this.originTemplate=a,this.compiledTemplate=b.compile&&"string"==typeof a?b.compile(a):function(){return a},this.compiledTemplate},render:function(a){var b=c.engine,d=this.compiledTemplate;return this.content=b.render&&d&&"object"==typeof a?b.render(d,a):d?d(a):Object.prototype.toString.call(a),this.content}});for(var e in d)c.prototype[e]=d[e];c.engine={},b.module.Template=c}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b){function c(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}function d(a,b){function d(){}d.prototype=b.prototype;var e=new d;c(e,a.prototype),e.constructor=a,a.prototype=e}function e(){var b=a.$;if("string"==typeof this.el){var c=this.el.split(/\s*\>\s*/),d=this.el=document.createElement("div");c.forEach(function(a){var b;if(b=a.match(/^(\w+)?(?:\#([^.]+))?(?:\.(.+))?$/i)){var c=document.createElement(b[1]||"div");b[2]&&c.setAttribute("id",b[2]),b[3]&&(c.className=b[3]),d.appendChild(c)}else d.innerHTML=a;d=d.childNodes[0]}),this.el=this.el.removeChild(this.el.childNodes[0])}b&&(this.$el=b(this.el))}var f=(a.document,{}),g={render:function(){},destory:function(){}};for(var h in g)e.prototype[h]=g[h];e.fn={},e.extend=function(a){function b(){g.apply(this,arguments),this.initialize&&this.initialize.apply(this,arguments)}var g=f[a.parent]||e;return d(b,g),c(b.prototype,g.fn),c(b.prototype,a),f[a.name]=b},e.get=function(a){return f[a]},b.module.View=e}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b){function c(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}function d(a,b){function d(){}d.prototype=b.prototype;var e=new d;c(e,a.prototype),e.constructor=a,a.prototype=e}function e(){}var f=(b.module.MessageScope,{}),g={ready:function(){},startup:function(){},teardown:function(){},show:function(){},hide:function(){}};for(var h in g)e.prototype[h]=g[h];e.fn={},e.define=function(a){function b(){e.apply(this,arguments),this.initialize&&this.initialize.apply(this,arguments)}return d(b,e),c(b.prototype,e.fn),c(b.prototype,a),f[a.name]=new b},e.get=function(a){return f[a]},b.module.Page=e}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b){function c(a,b){null!=b.id&&a.setAttribute("data-id",b.id),null!=b["class"]&&(a.className=b["class"]),null!=b.text&&(a.innerHTML=b.text),null!=b.bg&&(a.style.background=b.bg),null!=b.icon&&(a.innerHTML='<img src="'+b.icon+'" border="0" width="100%" height="100%" />'),a.style.display=b.hide===!0?"none":"",b.onChange&&b.onChange.call(a,b),b.handler&&(a.handler&&a.removeEventListener("click",a.handler,!1),a.addEventListener("click",a.handler=b.handler,!1))}function d(a){this.wrapEl=a,this.wrapEl.appendChild(this.animWrapEl=e.createElement("ul")),this.animWrapEl.appendChild(this.titleWrapEl=e.createElement("li")),this.animWrapEl.appendChild(this.backWrapEl=e.createElement("li")),this.animWrapEl.appendChild(this.funcWrapEl=e.createElement("li"))}var e=a.document,f={setTitle:function(a){"string"==typeof a?this.titleWrapEl.innerHTML=a:a instanceof HTMLElement&&(this.titleWrapEl.innerHTML="",this.titleWrapEl.appendChild(a))},setButton:function(a){var b,d;"back"===a.type?(b=this.backWrapEl,d=b.querySelector("a")):"func"===a.type?(b=this.funcWrapEl,d=b.querySelector('a[data-id="'+a.id+'"]')):a.id&&(d=this.wrapEl.querySelector('a[data-id="'+a.id+'"]'),d&&(b=d.parentNode)),!d&&b&&(d=e.createElement("a"),d.className=a.type,b.appendChild(d)),c(d,a)},getButton:function(a){return this.wrapEl.querySelector('a[data-id="'+a+'"]')},removeButton:function(a){function b(a){a&&(a.handler&&a.removeEventListener("click",a.handler),a.parentNode.removeChild(a))}if(a){if("string"==typeof a)var c=this.getButton(a);else if(a instanceof HTMLElement)var c=a;b(c)}else for(var d=this.funcWrapEl.querySelectorAll("a"),e=0;e<d.length;e++)b(d[e])}};for(var g in f)d.prototype[g]=f[g];b.module.Navbar=d}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b){function c(a,b){b||(b={}),this._wrapEl=a,this.set(b)}var d=(a.document,{set:function(a){a||(a={}),a.html&&(this._wrapEl.innerHTML=a.html),a.el&&((this._wrapEl.innerHTML="")||this._wrapEl.appendChild(a.el)),a.height&&(this._wrapEl.style.height=a.height+"px")},show:function(a){a&&this.set(a),this._wrapEl.style.display=""},hide:function(){this._wrapEl.style.display="none"}});for(var e in d)c.prototype[e]=d[e];b.module.Toolbar=c}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b){function c(a,b){b||(b={}),this._wrapEl=a,this._cacheLength=Math.max(b.cacheLength,1),this._cacheIndex=0;for(var c="",d=0;d<this._cacheLength;d++)c+='<div class="inactive" index="'+d+'"></div>';this._wrapEl.innerHTML='<div class="wrap">'+c+'</div><div class="trans"><div></div></div>',this.contentEl=this._wrapEl.childNodes[0],this.transEl=this._wrapEl.childNodes[1],this.transShadeEl=this.transEl.childNodes[0],this.setClassName()}var d={setClassName:function(){this.getActive().className="active",this._cacheLength>2?(this.getPrevious().className="inactive prev",this.getNext().className="inactive next"):this._cacheLength>1&&(this.getPrevious().className="inactive")},getActive:function(){var a=this._cacheIndex;return this.contentEl.childNodes[a]},getNext:function(){var a=(this._cacheIndex+1)%this._cacheLength;return this.contentEl.childNodes[a]},getPrevious:function(){var a=(this._cacheIndex-1+this._cacheLength)%this._cacheLength;return this.contentEl.childNodes[a]},next:function(){this._cacheLength>2&&(this.getPrevious().className="inactive"),this._cacheIndex=(this._cacheIndex+1)%this._cacheLength},previous:function(){this._cacheLength>2&&(this.getNext().className="inactive"),this._cacheIndex=(this._cacheIndex-1+this._cacheLength)%this._cacheLength},html:function(a){this.getActive().innerHTML=a}};for(var e in d)c.prototype[e]=d[e];b.module.Content=c}(window,window.app||(window.app={module:{},plugin:{}})),function(a){function b(a,b){for(var c=a;c;){if(c.contains(b)||c==b)return c;c=c.parentNode}return null}function c(a,b,c){var d=i.createEvent("HTMLEvents");if(d.initEvent(b,!0,!0),"object"==typeof c)for(var e in c)d[e]=c[e];a.dispatchEvent(d)}function d(a,b,c,d,e,f,g,h){var i=Math.atan2(h-f,g-e)-Math.atan2(d-b,c-a),j=Math.sqrt((Math.pow(h-f,2)+Math.pow(g-e,2))/(Math.pow(d-b,2)+Math.pow(c-a,2))),k=[e-j*a*Math.cos(i)+j*b*Math.sin(i),f-j*b*Math.cos(i)-j*a*Math.sin(i)];return{rotate:i,scale:j,translate:k,matrix:[[j*Math.cos(i),-j*Math.sin(i),k[0]],[j*Math.sin(i),j*Math.cos(i),k[1]],[0,0,1]]}}function e(a){0===Object.keys(l).length&&(j.addEventListener("touchmove",f,!1),j.addEventListener("touchend",g,!1),j.addEventListener("touchcancel",h,!1));for(var d=0;d<a.changedTouches.length;d++){var e=a.changedTouches[d],i={};for(var m in e)i[m]=e[m];var n={startTouch:i,startTime:Date.now(),status:"tapping",element:a.srcElement,pressingHandler:setTimeout(function(b){return function(){"tapping"===n.status&&(n.status="pressing",c(b,"press",{touchEvent:a})),clearTimeout(n.pressingHandler),n.pressingHandler=null}}(a.srcElement),500)};l[e.identifier]=n}if(2==Object.keys(l).length){var o=[];for(var m in l)o.push(l[m].element);c(b(o[0],o[1]),"dualtouchstart",{touches:k.call(a.touches),touchEvent:a})}}function f(a){for(var e=0;e<a.changedTouches.length;e++){var f=a.changedTouches[e],g=l[f.identifier];if(!g)return;var h=f.clientX-g.startTouch.clientX,i=f.clientY-g.startTouch.clientY,j=Math.sqrt(Math.pow(h,2)+Math.pow(i,2));"tapping"===g.status&&j>10&&(g.status="panning",c(g.element,"panstart",{touch:f,touchEvent:a}),Math.abs(h)>Math.abs(i)?(c(g.element,"horizontalpanstart",{touch:f,touchEvent:a}),g.isVertical=!1):(c(g.element,"verticalpanstart",{touch:f,touchEvent:a}),g.isVertical=!0)),"panning"===g.status&&(g.panTime=Date.now(),c(g.element,"pan",{displacementX:h,displacementY:i,touch:f,touchEvent:a}),g.isVertical?c(g.element,"verticalpan",{displacementY:i,touch:f,touchEvent:a}):c(g.element,"horizontalpan",{displacementX:h,touch:f,touchEvent:a}))}if(2==Object.keys(l).length){for(var k,m=[],n=[],o=[],e=0;e<a.touches.length;e++){var f=a.touches[e],g=l[f.identifier];m.push([g.startTouch.clientX,g.startTouch.clientY]),n.push([f.clientX,f.clientY])}for(var p in l)o.push(l[p].element);k=d(m[0][0],m[0][1],m[1][0],m[1][1],n[0][0],n[0][1],n[1][0],n[1][1]),c(b(o[0],o[1]),"dualtouch",{transform:k,touches:a.touches,touchEvent:a})}}function g(a){if(2==Object.keys(l).length){var d=[];for(var e in l)d.push(l[e].element);c(b(d[0],d[1]),"dualtouchend",{touches:k.call(a.touches),touchEvent:a})}for(var i=0;i<a.changedTouches.length;i++){var n=a.changedTouches[i],o=n.identifier,p=l[o];if(p){if(p.pressingHandler&&(clearTimeout(p.pressingHandler),p.pressingHandler=null),"tapping"===p.status&&(p.timestamp=Date.now(),c(p.element,"tap",{touch:n,touchEvent:a}),m&&p.timestamp-m.timestamp<300&&c(p.element,"doubletap",{touch:n,touchEvent:a}),this.lastTap=p),"panning"===p.status){var q=Date.now()-p.startTime,r=(n.clientX-p.startTouch.clientX)/q,s=(n.clientY-p.startTouch.clientY)/q,t=n.clientX-p.startTouch.clientX,u=n.clientY-p.startTouch.clientY;c(p.element,"panend",{isflick:300>q,touch:n,touchEvent:a}),300>q&&(c(p.element,"flick",{duration:q,velocityX:r,velocityY:s,displacementX:t,displacementY:u,touch:n,touchEvent:a}),p.isVertical?c(p.element,"verticalflick",{duration:q,velocityY:s,displacementY:u,touch:n,touchEvent:a}):c(p.element,"horizontalflick",{duration:q,velocityX:r,displacementX:t,touch:n,touchEvent:a}))}"pressing"===p.status&&c(p.element,"pressend",{touch:n,touchEvent:a}),delete l[o]}}0===Object.keys(l).length&&(j.removeEventListener("touchmove",f,!1),j.removeEventListener("touchend",g,!1),j.removeEventListener("touchcancel",h,!1))}function h(a){if(2==Object.keys(l).length){var d=[];for(var e in l)d.push(l[e].element);c(b(d[0],d[1]),"dualtouchend",{touches:k.call(a.touches),touchEvent:a})}for(var i=0;i<a.changedTouches.length;i++){var m=a.changedTouches[i],n=m.identifier,o=l[n];o&&(o.pressingHandler&&(clearTimeout(o.pressingHandler),o.pressingHandler=null),"panning"===o.status&&c(o.element,"panend",{touch:m,touchEvent:a}),"pressing"===o.status&&c(o.element,"pressend",{touch:m,touchEvent:a}),delete l[n])}0===Object.keys(l).length&&(j.removeEventListener("touchmove",f,!1),j.removeEventListener("touchend",g,!1),j.removeEventListener("touchcancel",h,!1))}var i=a.document,j=i.documentElement,k=Array.prototype.slice,l={},m=null;j.addEventListener("touchstart",e,!1)}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b){function c(a,b,c,e){var f=(this.TYPE,d.getTransformOffset(a)),g={translate:{x:f.x,y:f.y}},h={translate:{x:f.x,y:f.y}};b=b.split(""),c(g,h,b[0],b[1]);for(var i in g)"translate"===i?(a.style.webkitTransition="",a.style.webkitTransform=d.makeTranslateString(g[i].x,g[i].y)):a.style[i]=g[i];h.translate=[h.translate.x,h.translate.y],a.style.webkitBackfaceVisibility="hidden",a.style.webkitTransformStyle="preserve-3d",d.doTransition(a,h,{duration:"0.4s",timingFunction:"ease",callback:function(){a.style.webkitBackfaceVisibility="",a.style.webkitTransformStyle="",a.style.webkitTransition="",e&&e()}})}var d=(a.document,b.module.Animation),e={L:"x",R:"x",T:"y",B:"y"},f={L:-1,R:1,T:-1,B:1},g={TYPE:{LEFT_IN:"LI",LEFT_OUT:"LO",RIGHT_IN:"RI",RIGHT_OUT:"RO",TOP_IN:"TI",TOP_OUT:"TO",BOTTOM_IN:"BI",BOTTOM_OUT:"BO"},move:function(a,b,c,e){var f=d.getTransformOffset(a);a.style.webkitBackfaceVisibility="hidden",a.style.webkitTransformStyle="preserve-3d",d.translate(a,"0.4s","ease","0s",f.x+b,f.y+c,function(){a.style.webkitBackfaceVisibility="",a.style.webkitTransformStyle="",a.style.webkitTransition="",e&&e()})},slide:function(a,b,d,g){c(a,b,function(a,b,c,g){var h=e[c],i=f[c];"I"===g?a.translate[h]+=i*d:b.translate[h]+=i*d},g)},"float":function(a,b,d,g){c(a,b,function(a,b,c,g){var h=e[c],i=f[c];"I"===g?(a.translate[h]+=i*d,a.opacity=0,b.opacity=1):(b.translate[h]+=i*d,a.opacity=1,b.opacity=0)},g)},fadeIn:function(a,b){c(a,"FI",function(a,b,c,d){"I"===d?(a.opacity=0,b.opacity=1):(a.opacity=1,b.opacity=0)},b)},fadeOut:function(a){c(a,"FO",function(a,b,c,d){"I"===d?(a.opacity=0,b.opacity=1):(a.opacity=1,b.opacity=0)},callback)},zoomIn:function(){},zoomOut:function(){}};b.module.Transition=g}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b){function c(){var a=this;a.move=null,a.transition=null,a.datas=null,a._states=[],a._stateIdx=0,a._stateLimit=100}function d(a){return a.replace(m,"(P<$1>[^\\/]*?)").replace(n,"(P<$1>.*?)")}function e(a){var b=a.match(o),c={};return b&&b.forEach(function(a,b){c[a.replace(o,"$1")]=b}),c}function f(a){if(!a)return{};var b=a.split("&"),c={};return b.forEach(function(a){if(a){var b=a.split("=");c[b[0]]=b[1]}}),c}function g(a){return a=a.replace(o,""),new RegExp("^("+a+")$")}function h(){return r.hash.slice(1)||""}function i(a,b){b?r.replace("#"+a):r.hash=a}function j(){var a=this;a._started=!1,a._routes={},a._stack=new c}var k={reset:function(){var a=this;a.move=null,a.transition=null,a.datas=null,a.type=null,a._states=[],a._stateIdx=0,a._stateLimit=100},pushState:function(a,b,d,e){var f=this,g=f._states,h=f._stateIdx,i=f._stateLimit,j=g.length,k=f.move,l=f.transition,m=f.datas,n=f.type,o=g[h-1],p=g[h+1],q={name:a,fragment:b,type:n,params:d||{},datas:m||{}};for(var r in e)q.datas[r]=e[r];return null==k&&(l=k=!m&&c.isEquals(o,q)?"backward":"forward"),"backward"===k?0===h&&j>0?g.unshift(q):h>0&&(h--,q=o):"forward"===k?h===i-1?(g.shift(),g.push(q),q.referer=location.href.replace(/#[^#]*/,"#"+g[h-1].fragment)):0===h&&0===j?(g.push(q),q.referer=document.referer||""):!m&&c.isEquals(p,q)?(h++,q=p):c.isEquals(g[h],q)?q=g[h]:(h++,g.splice(h),g.push(q),q.referer=location.href.replace(/#[^#]*/,"#"+g[h-1].fragment)):"replace"===k&&(q.referer=location.href.replace(/#[^#]*/,"#"+g[h].fragment),g[h]=q),q.move=k,q.transition=l,q.index=h,f.move=null,f.transition=null,f.datas=null,f._stateIdx=h,q},getState:function(){return this._states[this._stateIdx]},getIndex:function(){return this._stateIdx}};for(var l in k)c.prototype[l]=k[l];c.isEquals=function(a,b){return a&&b?a.name!==b.name||a.fragment!==b.fragment?!1:!0:!1};var m=/\:([a-z0-9_-][a-z0-9_-]*)/gi,n=/\*([a-z0-9_-][a-z0-9_-]*)/gi,o=/P\<([a-z0-9_-][a-z0-9_-]*?)\>/gi,p="?",q=a.history,r=a.location,s={getStack:function(){return this._stack},handleEvent:function(){var a,b,c,d=this,e=d._routes,f=!0;if(d._started){b=h();for(var g in e)if(a=e[g],a["default"])c=a;else if(a.routeReg.test(b.split(p)[0])&&(f=!1,a.callback(b),a.last))break;f&&(c?c.callback(b):this._stack.pushState("unmatched",b,{},{}))}},addRoute:function(a,b,c){function h(b,d,e){var f=k._stack.pushState(a,b,d,e);f.isDefault=!!c["default"],c.callback&&c.callback(f)}var i,j,k=this;1===arguments.length&&(c=arguments[0],a=null,b=null),c||(c={}),c["default"]?k._routes[a]={"default":!0,callback:function(a){var b=f(a.split(p)[1]||"");h(a,{},b)}}:a&&b&&(b=d(b),i=e(b),j=g(b),k._routes[a]={routeText:b,routeReg:j,callback:function(a){var b=a.split(p),c=b[0].match(j).slice(2),d=f(b[1]||""),e={};for(var g in i)e[g]=c[i[g]];h(a,e,d)},last:c.last})},removeRoute:function(a){this._routes[a]&&delete this._routes[a]},hasRoute:function(a){return!!this._routes[a]},start:function(){return this._started?!1:(this._started=!0,a.addEventListener("hashchange",this,!1),this.handleEvent(),!0)},stop:function(){return this._started?(this._routes={},this._stack.reset(),this._started=!1,a.removeEventListener("hashchange",this,!1),!0):!1},push:function(a,b){var c=this,d=c._stack,e=d.getState(),f=d.getIndex();if(args=[],a||(a=""),b||(b={}),d.move=b.replace?"replace":"forward",d.transition="forward",/^https?\:/i.test(a))location.href=a;else if(a){if(!e||e.fragment!==a||b.data){if(b.type||(b.type="GET"),b.data||(b.data={}),"GET"===b.type.toUpperCase())for(var g in b.data)args.push(g+"="+b.data[g]);"POST"===b.type.toUpperCase()&&(d.datas=b.data),"backward"===b.transition&&(d.transition="backward"),d.type=b.type.toUpperCase(),i(a+(args.length?p+args.join("&"):""),!!b.replace)}}else f<d._states.length-1&&q.forward()},pop:function(a){var b=this,c=b._stack,d=c.getIndex();0!==d&&(c.move="backward",c.transition="backward",a&&"forward"===a.transition&&(c.transition="forward"),q.back())},resolve:function(a,b){var c,d=this._routes[a],e="";return d&&(c=d.routeText,e=c.replace(/\(P<[a-z0-9_-][a-z0-9_-]*?>.*?\)/g,function(a){o.lastIndex=0;var c=o.exec(a)[1];return b[c]||"undefined"}).replace("\\/?","").replace("\\","")),e}};for(var l in s)j.prototype[l]=s[l];j.instance=new j,b.module.StateStack=c,b.module.Navigation=j}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b){function c(a){var b=this,d=!0,g={};e.mixto(b,"model-"+f++),b.addProperty=function(e,f){Object.defineProperty(b,e,{get:function(){return g[e]||a[e]},set:function(f){g[e]&&(g[e].destory(),delete g[e]),null!=f&&(a[e]=f,"object"==typeof f&&(g[e]=new c(f),g[e].on("propertyChange",function(a){b.trigger("propertyChange",{target:a.target,value:a.value,name:a.name,path:e+"."+a.path})}))),!d&&b.trigger("propertyChange",{target:b,value:g[e]||a[e],name:e,path:e})}}),b[e]=f},b.update=function(a){if(a instanceof Array)for(var d=0;d<a.length;d++)a[d]instanceof c||this.addProperty(d,a[d]);else for(var e in a){if(b.hasOwnProperty(e))throw new Error('property conflict "'+e+'"');!a.hasOwnProperty(e)||a[e]instanceof c||this.addProperty(e,a[e])}},b.destory=function(){for(var a in g)g[a].destory();b.off()},b.on("propertyChange",function(a){b.trigger("change:"+a.path,a.value)}),b.update(a),d=!1}function d(a){var b=this;!a instanceof Array||(b.push=function(c){a.push(c),b.addProperty(a.length-1,c)},b.pop=function(){var c=a.pop();return b[a.length]=null,c},Object.defineProperty(b,"length",{get:function(){return a.length}}),c.call(b,a))}var e=b.module.MessageScope,f=0;b.module.Model=c,b.module.Collection=d}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b){function c(a){return 0-(a.bounceTop||0)}function d(a){var b=a.getBoundingClientRect(),d=a.parentNode.getBoundingClientRect(),e=c(a),f=0-b.height+d.height;return Math.min(f+(a.bounceBottom||0),e)}function e(a,b){return b>a.minScrollTop?b-a.minScrollTop:b<a.maxScrollTop?a.maxScrollTop-b:void 0}function f(a,b){return b>a.minScrollTop?b=a.minScrollTop:b<a.maxScrollTop&&(b=a.maxScrollTop),b}function g(a,b,c){var d=u.createEvent("HTMLEvents");d.initEvent(b,!0,!0);for(var e in c)d[e]=c[e];a.dispatchEvent(d)}function h(a){if(!stopBounce){for(var b=a.srcElement;!b.boundScrollEvent;)b=b.parentNode||b.offsetParent;if(r=b.boundScrollElement){var c=w.getTransformOffset(r);r.style.webkitBackfaceVisibility="hidden",r.style.webkitTransformStyle="preserve-3d",r.style.webkitTransition="",r.style.webkitTransform=w.makeTranslateString(c.x,c.y)}}}function i(a){return a.preventDefault(),!1}function j(){}function k(){!stopBounce&&r&&(r.transformOffset=w.getTransformOffset(r),r.minScrollTop=c(r),r.maxScrollTop=d(r),x=2.5,stopBounce=!1,y=!1,g(r,"scrollstart"))}function l(a){if(!stopBounce&&r){var b=r.transformOffset.y+a.displacementY;if(b>r.minScrollTop?(b=r.minScrollTop+(b-r.minScrollTop)/x,x*=1.003,x>4&&(x=4)):b<r.maxScrollTop&&(b=r.maxScrollTop-(r.maxScrollTop-b)/x,x*=1.003,x>4&&(x=4)),e(r,b)){if(b>r.minScrollTop)var c="pulldown",d=Math.abs(b-r.minScrollTop);else if(b<r.maxScrollTop)var c="pullup",d=Math.abs(r.maxScrollTop-b);r.bounceOffset=d,g(r,c)}r.style.webkitTransition="",r.style.webkitTransform=w.makeTranslateString(r.transformOffset.x,b)}}function m(){if(!stopBounce&&r){var a=w.getTransformOffset(r).y;e(r,a)?o():q()}}function n(a){if(!stopBounce&&r){var b=w.getTransformOffset(r).y,c=.008*(a/Math.abs(a));t=a/c,s=b+t*a/2,g(r,"bouncestart"),w.translate(r,t.toFixed(0)+"ms","cubic-bezier("+w.genCubicBezier(-t,0)+")","0s",r.transformOffset.x,s.toFixed(0),o)}}function o(){if(!stopBounce&&r){var a=w.getTransformOffset(r).y;a=f(r,a),w.translate(r,"0.4s","ease-in-out","0s",r.transformOffset.x,a,function(){g(r,"bounceend"),q()})}}function p(a){if(!stopBounce&&r){var b,c,d,e,f,g,h,i=w.getTransformOffset(r).y;y=!0,i>r.minScrollTop||i<r.maxScrollTop?n(b):(b=a.velocityY,b>1.5&&(b=1.5),-1.5>b&&(b=-1.5),c=.0015*(b/Math.abs(b)),d=b/c,e=i+d*b/2,e>r.minScrollTop?(g=r.minScrollTop-i,h=(b-Math.sqrt(-2*c*g+b*b))/c,f=b-c*h,w.translate(r,h.toFixed(0)+"ms","cubic-bezier("+w.genCubicBezier(-d,-d+h)+")","0s",r.transformOffset.x,r.minScrollTop,function(){n(f)})):e<r.maxScrollTop?(g=r.maxScrollTop-i,h=(b+Math.sqrt(-2*c*g+b*b))/c,f=b-c*h,w.translate(r,h.toFixed(0)+"ms","cubic-bezier("+w.genCubicBezier(-d,-d+h)+")","0s",r.transformOffset.x,r.maxScrollTop,function(){n(f)})):w.translate(r,d.toFixed(0)+"ms","cubic-bezier("+w.genCubicBezier(-d,0)+")","0s",r.transformOffset.x,e.toFixed(0),q))}}function q(){!stopBounce&&r&&(y=!1,setTimeout(function(){!y&&r&&(r.style.webkitBackfaceVisibility="initial",r.style.webkitTransformStyle="flat",r.style.webkitTransition="",g(r,"scrollend"))},10))}var r,u=a.document,v=u.documentElement,w=b.module.Animation,x=2,y=!1;stopBounce=!1,prevented=!1;var z={enable:function(a,b){var c=a.parentNode||a.offsetParent;prevented||(prevented=!0,v.addEventListener("touchmove",i,!1)),c.boundScrollEvent||(c.boundScrollEvent=!0,c.addEventListener("touchstart",h,!1),c.addEventListener("touchend",j,!1),c.addEventListener("panstart",k,!1),c.addEventListener("pan",l,!1),c.addEventListener("panend",m,!1),c.addEventListener("flick",p,!1)),c.boundScrollElement=a,b?(a.bounceTop=b.bounceTop,a.bounceBottom=b.bounceBottom):(a.bounceTop=0,a.bounceBottom=0);var d=w.getTransformOffset(a).x,e=-a.bounceTop;a.style.webkitTransition="",a.style.webkitTransform=w.makeTranslateString(d,e)},disable:function(a){var b,c=a.parentNode||a.offsetParent;c.boundScrollElement===a&&(b=w.getTransformOffset(a),r=c.boundScrollElement=null,setTimeout(function(){a.style.webkitTransition="",a.style.webkitTransform=w.makeTranslateString(b.x,b.y)},50))},getScrollHeight:function(a){return a.getBoundingClientRect().height-(a.bounceTop||0)-(a.bounceBottom||0)},getScrollTop:function(a){var b=w.getTransformOffset(a);return-(b.y+(a.bounceTop||0))},refresh:function(a){a.style.height="auto",a.style.height=a.offsetHeight+"px",a.offset=w.getTransformOffset(a),a.minScrollTop=c(a),a.maxScrollTop=d(a),this.scrollTo(a,-a.offset.y-a.bounceTop)},offset:function(a,b){var c=a.getBoundingClientRect(),d=b.getBoundingClientRect(),e={top:d.top-((a.bounceTop||0)+c.top),left:d.left-c.left,right:c.right-d.right,width:d.width,height:d.height};return e.bottom=e.top+d.height,e},scrollTo:function(a,b){var c=w.getTransformOffset(a).x,b=-b-(a.bounceTop||0);b=f(a,b),a.style.webkitTransition="",a.style.webkitTransform=w.makeTranslateString(c,b)},scrollToElement:function(a,b){var c=this.offset(a,b);this.scrollTo(a,c.top)},getViewHeight:function(a){return a.parentNode.getBoundingClientRect().height},getBoundaryOffset:function(a){var b=w.getTransformOffset(a).y;return e(a,b)},stopBounce:function(a){stopBounce=!0;var b=w.getTransformOffset(a),e=c(a),f=d(a),g=null;b.y>e+(a.bounceTop||0)?g=e+(a.bounceTop||0):b.y<f-(a.bounceBottom||0)&&(g=f-(a.bounceBottom||0)),null!=g&&w.translate(a,"0.4s","ease-in-out","0s",b.x,g)},resumeBounce:function(a){stopBounce=!1;var b,e=w.getTransformOffset(a),f=c(a),g=d(a);e.y>f?b=f:g>e&&(b=g),null!=b&&w.translate(a,"0.4s","ease-in-out","0s",e.x,b)}};b.module.Scroll=z}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b){function c(a,b){return b||(b=l),b.querySelector(a)}function d(a,b){var c=l.createEvent("HTMLEvents");c.initEvent(b,!0,!0),a.dispatchEvent(c)}function e(){if(o)d(window,"scrollend");else{var a=window.scrollY;setTimeout(function(){window.scrollY===a&&d(window,"scrollend")},150)}}function f(a,c){if(a.plugins)for(var d in a.plugins){var e=b.plugin[d],f=a.plugins[d];f===!0&&(f=a.plugins[d]={}),e&&f&&e[c]&&e[c](a,f)}}function g(a,c,d){if(2===arguments.length&&(d=c,c=a,a=null),c.plugins)for(var e in c.plugins){var f=b.plugin[e],g=c.plugins[e];if(f&&g){if(g===!0&&(g=c.plugins[e]={}),a){a.plugins[e]||(a.plugins[e]={});for(var h in g)null==a.plugins[e][h]&&(a.plugins[e][h]=c.plugins[e][h]);g=a.plugins[e]}f[d]&&f[d](c,g)}}}function h(a,b,c){var d=a[b];if("string"==typeof d)G.on("template:loaded",function(a){d===a&&(G.off("template:loaded",arguments.callee),c&&c())});else if("object"==typeof d)for(var b in d)h(d,b,function(){var a=!0;for(var b in d)if("function"!=typeof d[b]){a=!1;break}a&&c&&c()});else c&&c()}function i(a,b){return a.compile(b),function(b){return a.render(b)}}function j(a,b){var c=a[b];if("string"==typeof c){var d;D[c]?a[b]=D[c]:c.match(/\.tpl$/g)?(d=new t,d.load(c,function(e){a[b]=D[c]=i(d,e),G.trigger("template:loaded",c)})):(d=new t,a[b]=D[c]=i(d,c))}else if("object"==typeof c)for(var b in c)j(c,b)}function k(){return s.getStack().getState()}var l=a.document,m=a.$,n=navigator.appVersion,o=/iphone|ipad/gi.test(n),p=b.module,q=p.MessageScope,r=p.Navigation,s=r.instance,t=p.Template,u=p.View,v=p.Page,w=p.Navbar,x=p.Toolbar,y=p.Content,z=p.Scroll,A=(p.Animation,p.Transition),B={},C={},D={},E={},F=b.config={viewport:null,templateEngine:null,resourceCombo:null,resourceBase:"./",enableMessageLog:!1,enableContent:!0,enableNavbar:!1,enableToolbar:!1,enableScroll:!1,enableTransition:!1,pushState:!1,basePath:"/"},G=q.get("hooks");G.on("app:start",function(){var a=b.config;w||(a.enableNavbar=!1),x||(a.enableToolbar=!1),z||(a.enableScroll=!1),A||(a.enableTransition=!1),q.isLogging=a.enableMessageLog,a.enableNavbar===!0&&(a.enableNavbar={}),a.enableToolbar===!0&&(a.enableToolbar={}),a.enableScroll===!0&&(a.enableScroll={}),a.enableTransition===!0&&(a.enableTransition={}),"number"==typeof a.enableContent?a.enableContent={cacheLength:a.enableContent}:a.enableContent instanceof HTMLElement?a.enableContent={wrapEl:a.enableContent}:"object"!=typeof a.enableContent&&(a.enableContent={})}),"onorientationchange"in a&&window.addEventListener("onorientationchange",function(){setTimeout(function(){G.trigger("orientaion:change")},10)},!1),window.addEventListener("resize",function(){setTimeout(function(){G.trigger("screen:resize")},10)}),G.on("view:extend",function(a){var b=a.prototype.render,c=a.prototype.destory;a.prototype.render=function(){var a=this,c=arguments;h(a,"template",function(){G.trigger("view:render",a,arguments),b.apply(a,c)})},a.prototype.destory=function(){G.trigger("view:destory",this,arguments),c.apply(this,arguments)}}),G.on("page:define",function(a){var b=a.ready,c=a.startup,d=a.teardown,e=a.show,f=a.hide,g=!1,h=!1;a.ready=function(c){g||(G.trigger("page:ready",c,a),b.call(a),g=!0)},a.startup=function(b){G.trigger("page:startup",b,a),c.call(a)},a.show=function(b){G.trigger("page:show",b,a),e.call(a,h),h=!0},a.hide=function(b){G.trigger("page:hide",b,a),f.call(a,h)},a.teardown=function(b){G.trigger("page:teardown",b,a),d.call(a),h=!1},a.html=function(a){this.el.innerHTML=a}}),G.on("page:define page:defineMeta",function(a){var b=a.name,c=a.route;s.hasRoute(b)||(c?"string"==typeof c&&(c={name:b,text:c}):c={name:b,"default":!0},s.addRoute(c.name,c.text,{"default":c["default"],callback:function(a){q.get("navigation").trigger(a.move,a)},last:!0}))}),G.on("app:start",function(){var a,b=F.enableNavbar,d=F.enableToolbar,f=F.enableContent,g=F.enableTransition,h=F.enableScroll;F.viewport||(F.viewport=c(".viewport")||l.body),f.wrapEl||(f.wrapEl=c(".content",F.viewport)||F.viewport),f.cacheLength||(f.cacheLength=f.wrapEl===F.viewport?1:5),a=f.instance=new y(f.wrapEl,{cacheLength:f.cacheLength}),b&&(F.viewport.className+=" enableNavbar",b.wrapEl||(b.wrapEl=c(".navbar",F.viewport)),b.instance=new w(b.wrapEl)),d&&(F.viewport.className+=" enableToolbar",d.wrapEl||(d.wrapEl=c(".toolbar",F.viewport)),d.instance=new x(d.wrapEl,d)),h?(F.viewport.className+=" enableScroll",h.wrapEl=a.getActive()):window.addEventListener("scroll",e,!1),g&&(F.viewport.className+=" enableTransition",g.wrapEl=a.contentEl)
}),G.on("app:start",function(){for(var a in b.plugin){var c=b.plugin[a];c.onAppStart&&c.onAppStart()}}),G.on("view:render",function(a){f(a,"onViewRender")}),G.on("view:destory",function(a){f(a,"onViewTeardown")}),G.on("page:define",function(a){g(a,"onPageDefine")}),G.on("page:startup",function(a,b){g(a,b,"onPageStartup")}),G.on("page:show",function(a,b){g(a,b,"onPageShow")}),G.on("page:hide",function(a,b){g(a,b,"onPageHide")}),G.on("page:teardown",function(a,b){g(a,b,"onPageTeardown")}),G.once("view:extend page:define",function(){t.engine=F.templateEngine||{}}),G.on("view:extend",function(a){a.prototype.template&&j(a.prototype,"template")}),G.on("page:define",function(a){a.template&&j(a,"template")}),G.on("app:start",function(){function a(){var a=n.pageMeta.title||o.title,c=n.pageMeta.buttons||o.buttons;if(c)for(var d=0;d<c.length;d++){var e=c[d],f=e.handler;e.id||(e.id="btn-"+Date.now()+"-"+parseInt(10*Math.random())),"string"==typeof f&&(f=o[f]),"back"===e.type&&(e.hide=e.autoHide!==!1&&n.index<1,f||(f=function(){b.navigation.pop()})),e.handler=function(a){return function(b){a&&a.call(o,b,n.index)}}(f)}else c=[{id:"back",type:"back",text:"back",hide:n.index<1?!0:!1,handler:function(){b.navigation.pop()}}];if(D||!r){b.navigation.resetNavbar(),b.navigation.setTitle(a);for(var d=0;d<c.length;d++)b.navigation.setButton(c[d])}else b.navigation.switchNavbar(a,n.transition,c)}function c(){if(t){var a=t.instance,c=n.pageMeta.toolbar||o.toolbar;t.wrapEl.innerHTML="","number"==typeof c&&(c={height:c}),c?(b.navigation.setToolbar(c),a.show()):a.hide()}}function d(){D||("backward"===n.move?w.previous():w.next())}function e(){var a=y?F.viewport.offsetHeight:window.innerHeight;s&&(a-=s.wrapEl.offsetHeight),t&&(a-=t.wrapEl.offsetHeight),y?u.wrapEl.style.height=a+"px":(u.wrapEl.style.minHeight=a+"px",u.instance.getActive().style.minHeight=a+"px")}function f(){!D&&y&&(z.disable(y.wrapEl),y.wrapEl=w.getActive(),z.enable(y.wrapEl,o.scroll))}function g(){if(D)G.trigger("navigation:switchend",n);else{var a=n.transition;if(x&&r){var b=x.wrapEl,c=w.transEl,d=w.transShadeEl,e=b.getBoundingClientRect().width,f=e*("backward"===a?1:-1),g=b.className+=" "+a;d.style["backward"===a?"right":"left"]=e+"px",c.style.display="block",A.move(d,f,0,function(){w.setClassName(),b.className=g.replace(" "+a,""),d.style.cssText="",c.style.cssText="",G.trigger("navigation:switchend",n)})}else w.setClassName(),G.trigger("navigation:switchend",n)}}function i(a){for(var c in b.plugin){var d=b.plugin[c];d&&(n.plugins[c]||(n.plugins[c]={}),d[a]&&d[a](n.plugins[c]))}}function j(){var a;(a=C[n.name])&&(a.css&&b.loadResource(a.css,"css"),a.js&&b.loadResource(a.js,"js",function(){o=v.get(n.name),o&&(o.ready(),k())}))}function k(){o.el=w.getActive(),m&&(o.$el=m(o.el)),a(),c(),f(),g(),h(o,"template",l)}function l(){var a=o.el.getAttribute("data-fragment"),b=B[a];E||D&&n.isDefault||(r&&r.hide(p),o.el.setAttribute("data-fragment",n.fragment),a===n.fragment||D||(b&&(b.page.teardown(b.state),delete B[a]),B[n.fragment]={state:n,page:o},o.el.innerHTML="",o.startup(n)),o.show(n),p=n,r=o),G.trigger("page:domready")}var n,o,p,r,s=F.enableNavbar,t=F.enableToolbar,u=F.enableContent,w=u.instance,x=F.enableTransition,y=F.enableScroll,D=!1,E=!1;q.get("navigation").on("forward backward replace",function(){n=arguments[0],n.pageMeta||(n.pageMeta={}),n.plugins||(n.plugins={}),o=v.get(n.name),p&&(D=p.name===n.name,E=p.fragment===n.fragment),G.trigger("navigation:switch",n),o?k():j()}),G.on("navigation:switch",function(){d(),i("onNavigationSwitch")}),G.on("navigation:switchend",function(){e(),i("onNavigationSwitchEnd")}),G.after("page:domready navigation:switchend",function(){i("onDomReady")}),G.on("orientaion:change screen:resize",function(){e()})}),b.start=function(a){for(var c in a)b.config[c]=a[c];G.trigger("app:start"),s.start()},b.setTemplate=function(a,b){"string"==typeof b?D[a]=i(new t,b):"function"==typeof b&&(D[a]=b)},b.extendView=function(a){var b=u.extend(a);return G.trigger("view:extend",b),b},b.getView=function(a){var b=u.get(a);if(b){var c=Object.create(b.prototype),d=Array.prototype.slice.call(arguments,1);return b.apply(c,d),c}},b.definePage=function(a){var b=v.define(a);return G.trigger("page:define",b),b},b.definePageMeta=function(a){a instanceof Array||(a=[a]),a.forEach(function(a){C[a.name]=a,G.trigger("page:defineMeta",a)})},b.getPage=function(a){return v.get(a)};var H=document.createElement("a");b.loadResource=function(a,c,d){function e(){return"resource-"+Date.now()+"-"+Object.keys(E).length}function f(a){return 0===a.indexOf("http")?a:b.config.resourceBase+a}function g(a,b){if(!a)return b();if(a=H.href=f(a),"string"==typeof E[a])return b();var d=E[a]=e();if("js"===c||a.match(/\.js$/)){var g=document.createElement("script"),h=!1;g.id=d,g.async=!0,g.onload=g.onreadystatechange=function(){h||(h=!0,b&&b(a))},g.src=a,l.body.appendChild(g)}else if("css"===c||a.match(/\.css$/)){var i=document.createElement("link");i.id=d,i.type="text/css",i.rel="stylesheet",i.href=a,l.body.appendChild(i),b()}}2===arguments.length&&"function"==typeof arguments[1]&&(d=arguments[1],c=null),"string"==typeof a&&(a=[a]);var h=[],i=F.resourceCombo;a.forEach(function(a){H.href=f(a),E[H.href]||(E[H.href]=!0,h.push(a))}),i&&(h=i(h),"string"==typeof h&&(h=[h])),g(h.shift(),function(){h.length?g(h.shift(),arguments.callee):d&&d()})},b.navigation={push:function(a,b){s.push(a,b)},replace:function(a,b){b||(b={}),b.replace=!0,s.push(a,b)},pop:function(){s.pop()},resolveFragment:function(a,b){return s.resolve(a,b)},getReferer:function(){return k().referer},getParameter:function(a){var b=k();return b.params[a]||b.datas[a]},getParameters:function(){var a=k(),b={};for(var c in a.params)b[c]=a.params[c];for(var c in a.datas)b[c]=a.datas[c];return b},setData:function(a,b){k().datas[a]=b},setTitle:function(a){var b=k();F.enableNavbar&&F.enableNavbar.instance.setTitle(a),b.pageMeta.title=a},setButton:function(a){if(a instanceof Array)for(var b=0;b<a.length;b++)this.setButton(a[b]);else{var c=k();if(F.enableNavbar&&F.enableNavbar.instance.setButton(a),c.pageMeta.buttons){for(var b=0;b<c.pageMeta.buttons.length;b++){var d=c.pageMeta.buttons[b];if("back"===d.type&&"back"===a.type||d.id===a.id){for(var e in a)d[e]=a[e];return}}c.pageMeta.buttons.push(a)}else c.pageMeta.buttons=[a]}},switchNavbar:function(a,b,c){if(F.enableNavbar){this.resetNavbar(),this.setTitle(a);for(var d=0;d<c.length;d++)this.setButton(c[d]);A.float(F.enableNavbar.instance.animWrapEl,"backward"===b?"LI":"RI",50)}},resetNavbar:function(){var a=k();F.enableNavbar&&F.enableNavbar.instance.removeButton(),a.pageMeta.buttons=[]},setToolbar:function(a){var b=k();F.enableToolbar&&F.enableToolbar.instance.set(a),b.pageMeta.toolbar=a}},b.scroll={getScrollHeight:function(){var a=F.enableScroll;return a?z.getScrollHeight(a.wrapEl):l.body.scrollHeight},getScrollTop:function(){var a=F.enableScroll;return a?z.getScrollTop(a.wrapEl):l.body.scrollTop},refresh:function(){var a=F.enableScroll;a&&z.refresh(a.wrapEl)},offset:function(a){var b=F.enableScroll;return b?z.offset(b.wrapEl,a):z.offset(l.body,a)},scrollTo:function(a){var b=F.enableScroll;b?z.scrollTo(b.wrapEl,a):l.body.scrollTop=a},scrollToElement:function(a){var b=F.enableScroll;b?z.scrollToElement(b.wrapEl,a):a.scrollIntoView()},getViewHeight:function(){var a=F.enableScroll;return a?z.getViewHeight(a.wrapEl):window.innerHeight},getBoundaryOffset:function(){var a=F.enableScroll;return a?z.getBoundaryOffset(a.wrapEl):0},stopBounce:function(){var a=F.enableScroll;a&&z.stopBounce(a.wrapEl)},resumeBounce:function(){var a=F.enableScroll;a&&z.resumeBounce(a.wrapEl)},addEventListener:function(a,b,c){var d=F.enableScroll,e=(F.enableContent.instance,d?d.wrapEl:window);e.addEventListener(a,b,c)},removeEventListener:function(a,b){var c=F.enableScroll,d=(F.enableContent.instance,c?c.wrapEl:window);d.removeEventListener(a,b)},getElement:function(){var a=F.enableScroll;return a?a.wrapEl:l.body}}}(window,window.app||(window.app={module:{},plugin:{}}));