!function(a,b,c){function d(a){return a+="",a.indexOf("px")<0&&a.indexOf("%")<0&&"0"!==a&&(a+="px"),a}function e(a){return a+="",a.indexOf("deg")<0&"0"!==a&&(a+="deg"),a}function f(a,b){return b||(b="-"),a.replace(/[a-z][A-Z]/g,"$1"+b+"$2").toLowerCase()}function g(a){var b=/ms|s|m|h$/.exec(a)[0],c={ms:1,s:1e3,m:6e4,h:36e5};return parseFloat(a)*c[b]}var h=/^matrix3d\((?:[-\d.]+,\s*){12}([-\d.]+),\s*([-\d.]+)(?:,\s*[-\d.]+){2}\)/,i=/^matrix\((?:[-\d.]+,\s*){4}([-\d.]+),\s*([-\d.]+)\)$/,j=/^(translate|rotate|scale)(X|Y|Z|3d)?|(matrix)(3d)?|(perspective)|(skew)(X|Y)?$/i,k=(/android/gi.test(navigator.appVersion),/iphone|ipad/gi.test(navigator.appVersion),"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix),l={translate:function(a,b,c,d,e,f,g){this.doTransition(a,{translate:[e,f]},{duration:b,timingFunction:c,delay:d,callback:g})},doTransition:function(a,b,c){function h(b){t||(a.removeEventListener("webkitTransitionEnd",h,!1),b&&b.srcElement!==a||(t=!0,setTimeout(c.callback,10)))}var i,l=[c.duration,c.timingFunction||"ease",c.delay||"0s"].join(" "),m="",n=[],o={};for(var p in b){var q=b[p];if(i=p.match(j)){q instanceof Array||(q=[q]);var r=i[1]||i[3]||i[5]||i[6],s=i[2]||i[4]||i[7]||"";"translate"===r&&""===s&&k&&(s="3d",q.push(0)),"translate"===r?q=q.map(d):("rotate"===r||"skew"===r)&&(q=q.map(e)),m+=r+s+"("+q.join(",")+")"}else n.push(f(p)+" "+l),o[p]=q;m&&n.push("-webkit-transform "+l)}var t=!1;c.callback&&a.addEventListener("webkitTransitionEnd",h,!1),setTimeout(h,1.2*g(c.duration)),setTimeout(function(){a.style.webkitTransition=n.join(", "),m.length&&(a.style.webkitTransform=m);for(var b in o)a.style[b]=o[b]},10)},genCubicBezier:function(a,b){return[[(a/3+(a+b)/3-a)/(b-a),(a*a/3+a*b*2/3-a*a)/(b*b-a*a)],[(b/3+(a+b)/3-a)/(b-a),(b*b/3+a*b*2/3-a*a)/(b*b-a*a)]]},makeTranslateString:function(a,b){return a=d(a),b=d(b),k?"translate3d("+a+", "+b+", 0)":"translate("+a+", "+b+")"},getTransformOffset:function(a){var b,c,d={x:0,y:0},e=getComputedStyle(a).webkitTransform;return"none"!==e&&(c=e.indexOf("matrix3d")>-1?h:i,(b=e.match(c))&&(d.x=parseInt(b[1])||0,d.y=parseInt(b[2])||0)),d}};b.module.Animation=l}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b,c){function d(){this._handlers={}}function e(a,b,c){f.isLogging&&console.log("[Message]",{scope:a,event:b,args:c})}function f(a){var b=this;this._scope=a,this._event=new d,this._cache={},this._handler=function(a){for(var c=a.type,d=a.args,e=b._cache[c].slice(),f=0;f<e.length;f+=2)e[f].apply(e[f+1],d)},i[a]=this}var g={addEventListener:function(a,b){var c,d=this._handlers;c=d[a]||(d[a]=[]),c.push(b)},removeEventListener:function(a,b){var c=this._handlers;c[a]&&(c[a]=c[a].filter(function(a){return a!=b}),c[a].length||delete c[a])},dispatchEvent:function(a){var b=this._handlers,c=a.type;b.hasOwnProperty(c)&&b[c].forEach(function(b){b(a)}),this["on"+c]&&this["on"+c](a)}};for(var h in g)d.prototype[h]=g[h];var i={},j=/\s+/,k={on:function(a,b,c){var d,e,f=this,g=f._cache,h=f._event;if(!b)return f;for(a=a.split(j);e=a.shift();)d=g[e]||(g[e]=[]),d.length||h.addEventListener(e,this._handler),d.push(b,c);return f},off:function(a,b,c){var d,e,f=this,g=f._cache,h=f._event;for(a=a?a.split(j):Object.keys(g);e=a.shift();){!(b||c)&&(g[e]=[]),d=g[e];for(var i=d.length-2;i>=0;i-=2)b&&d[i]!==b||c&&d[i+1]!==c||d.splice(i,2);d.length||(delete g[e],h.removeEventListener(e,this._handler))}return f},once:function(a,b,c){function d(){b.apply(this,arguments),e.off(a,d,c)}var e=this;return e.on(a,d,c)},after:function(a,b,c){function d(){for(var a in h)if(!h[a])return!1;return!0}function e(){for(var a in h)h[a]=!1}var f,g=this,h={};return b?(a=a.split(j),f=a.join("&&"),a.forEach(function(a){h[a]=!1,g.on(a,function(){h[a]=!0,d()&&(g.trigger(f),e())})}),void g.on(f,b,c)):g},trigger:function(a){var b,c,d=this,f=d._cache,g=d._event;for(a=a.split(j),b=Array.prototype.slice.call(arguments,1);c=a.shift();)e(this._scope,c,b),f[c]&&g.dispatchEvent({type:c,args:b});return d}};for(var h in k)f.prototype[h]=k[h];f.isLogging=!1,f.mixto=function(a,b){var c=f.get(b);a.prototype&&(a=a.prototype);for(var d in k)void function(b){a[d]=function(){b.apply(c,arguments)}}(k[d])},f.get=function(a){if("string"==typeof a)return i[a]||(i[a]=new f(a));if(a instanceof f)return a;throw new TypeError},b.module.Event=d,b.module.MessageScope=f}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b,c){function d(){}var e=(a.document,{load:function(a,b){var c=d.engine;c.load&&"string"==typeof a?c.load(a,b):b&&b(a)},compile:function(a){var b=d.engine;return this.originTemplate=a,this.compiledTemplate=b.compile&&"string"==typeof a?b.compile(a):function(){return a},this.compiledTemplate},render:function(a){var b=d.engine,c=this.compiledTemplate;return this.content=b.render&&c&&"object"==typeof a?b.render(c,a):c?c(a):Object.prototype.toString.call(a),this.content}});for(var f in e)d.prototype[f]=e[f];d.engine={},b.module.Template=d}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b,c){function d(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}function e(a,b){function c(){}c.prototype=b.prototype;var e=new c;d(e,a.prototype),e.constructor=a,a.prototype=e}function f(){var b=a.$;if("string"==typeof this.el){var c=this.el.split(/\s*\>\s*/),d=this.el=document.createElement("div");c.forEach(function(a){var b;if(b=a.match(/^(\w+)?(?:\#([^.]+))?(?:\.(.+))?$/i)){var c=document.createElement(b[1]||"div");b[2]&&c.setAttribute("id",b[2]),b[3]&&(c.className=b[3]),d.appendChild(c)}else d.innerHTML=a;d=d.childNodes[0]}),this.el=this.el.removeChild(this.el.childNodes[0])}b&&(this.$el=b(this.el))}var g=(a.document,{}),h={render:function(a){},destory:function(a){}};for(var i in h)f.prototype[i]=h[i];f.fn={},f.extend=function(a){function b(){c.apply(this,arguments),this.initialize&&this.initialize.apply(this,arguments)}var c=g[a.parent]||f;return e(b,c),d(b.prototype,c.fn),d(b.prototype,a),g[a.name]=b},f.get=function(a){return g[a]},b.module.View=f}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b,c){function d(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}function e(a,b){function c(){}c.prototype=b.prototype;var e=new c;d(e,a.prototype),e.constructor=a,a.prototype=e}function f(){}var g=(b.module.MessageScope,{}),h={ready:function(){},startup:function(){},teardown:function(){},show:function(){},hide:function(){}};for(var i in h)f.prototype[i]=h[i];f.fn={},f.define=function(a){function b(){f.apply(this,arguments),this.initialize&&this.initialize.apply(this,arguments)}return e(b,f),d(b.prototype,f.fn),d(b.prototype,a),g[a.name]=new b},f.get=function(a){return g[a]},b.module.Page=f}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b,c){function d(a,b){null!=b.id&&a.setAttribute("data-id",b.id),null!=b["class"]&&(a.className=b["class"]),null!=b.text&&(a.innerHTML=b.text),null!=b.bg&&(a.style.background=b.bg),null!=b.icon&&(a.innerHTML='<img src="'+b.icon+'" border="0" width="100%" height="100%" />'),a.style.display=b.hide===!0?"none":"",b.onChange&&b.onChange.call(a,b),b.handler&&(a.handler&&a.removeEventListener("click",a.handler,!1),a.addEventListener("click",a.handler=b.handler,!1))}function e(a){this.wrapEl=a,this.wrapEl.appendChild(this.animWrapEl=f.createElement("ul")),this.animWrapEl.appendChild(this.titleWrapEl=f.createElement("li")),this.animWrapEl.appendChild(this.backWrapEl=f.createElement("li")),this.animWrapEl.appendChild(this.funcWrapEl=f.createElement("li"))}var f=a.document,g={setTitle:function(a){"string"==typeof a?this.titleWrapEl.innerHTML=a:a instanceof HTMLElement&&(this.titleWrapEl.innerHTML="",this.titleWrapEl.appendChild(a))},setButton:function(a){var b,c;"back"===a.type?(b=this.backWrapEl,c=b.querySelector("a")):"func"===a.type?(b=this.funcWrapEl,c=b.querySelector('a[data-id="'+a.id+'"]')):a.id&&(c=this.wrapEl.querySelector('a[data-id="'+a.id+'"]'),c&&(b=c.parentNode)),!c&&b&&(c=f.createElement("a"),c.className=a.type,b.appendChild(c)),d(c,a)},getButton:function(a){return this.wrapEl.querySelector('a[data-id="'+a+'"]')},removeButton:function(a){function b(a){a&&(a.handler&&a.removeEventListener("click",a.handler),a.parentNode.removeChild(a))}if(a){if("string"==typeof a)var c=this.getButton(a);else if(a instanceof HTMLElement)var c=a;b(c)}else for(var d=this.funcWrapEl.querySelectorAll("a"),e=0;e<d.length;e++)b(d[e])}};for(var h in g)e.prototype[h]=g[h];b.module.Navbar=e}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b,c){function d(a,b){b||(b={}),this._wrapEl=a,this.set(b)}var e=(a.document,{set:function(a){a||(a={}),a.html&&(this._wrapEl.innerHTML=a.html),a.el&&((this._wrapEl.innerHTML="")||this._wrapEl.appendChild(a.el)),a.height&&(this._wrapEl.style.height=a.height+"px")},show:function(a){a&&this.set(a),this._wrapEl.style.display=""},hide:function(){this._wrapEl.style.display="none"}});for(var f in e)d.prototype[f]=e[f];b.module.Toolbar=d}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b,c){function d(a,b){b||(b={}),this._wrapEl=a,this._cacheLength=Math.max(b.cacheLength,1),this._cacheIndex=0;for(var c="",d=0;d<this._cacheLength;d++)c+='<div class="inactive" index="'+d+'"></div>';this._wrapEl.innerHTML='<div class="wrap">'+c+'</div><div class="trans"><div></div></div>',this.contentEl=this._wrapEl.childNodes[0],this.transEl=this._wrapEl.childNodes[1],this.transShadeEl=this.transEl.childNodes[0],this.setClassName()}var e={setClassName:function(){this.getActive().className="active",this._cacheLength>2?(this.getPrevious().className="inactive prev",this.getNext().className="inactive next"):this._cacheLength>1&&(this.getPrevious().className="inactive")},getActive:function(){var a=this._cacheIndex;return this.contentEl.childNodes[a]},getNext:function(){var a=(this._cacheIndex+1)%this._cacheLength;return this.contentEl.childNodes[a]},getPrevious:function(){var a=(this._cacheIndex-1+this._cacheLength)%this._cacheLength;return this.contentEl.childNodes[a]},next:function(){this._cacheLength>2&&(this.getPrevious().className="inactive"),this._cacheIndex=(this._cacheIndex+1)%this._cacheLength},previous:function(){this._cacheLength>2&&(this.getNext().className="inactive"),this._cacheIndex=(this._cacheIndex-1+this._cacheLength)%this._cacheLength},html:function(a){this.getActive().innerHTML=a}};for(var f in e)d.prototype[f]=e[f];b.module.Content=d}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b,c){function d(a,b){for(var c=a;c;){if(c.contains(b)||c==b)return c;c=c.parentNode}return null}function e(a,b,c){var d=k.createEvent("HTMLEvents");if(d.initEvent(b,!0,!0),"object"==typeof c)for(var e in c)d[e]=c[e];a.dispatchEvent(d)}function f(a,b,c,d,e,f,g,h){var i=Math.atan2(h-f,g-e)-Math.atan2(d-b,c-a),j=Math.sqrt((Math.pow(h-f,2)+Math.pow(g-e,2))/(Math.pow(d-b,2)+Math.pow(c-a,2))),k=[e-j*a*Math.cos(i)+j*b*Math.sin(i),f-j*b*Math.cos(i)-j*a*Math.sin(i)];return{rotate:i,scale:j,translate:k,matrix:[[j*Math.cos(i),-j*Math.sin(i),k[0]],[j*Math.sin(i),j*Math.cos(i),k[1]],[0,0,1]]}}function g(a){0===Object.keys(n).length&&(l.addEventListener("touchmove",h,!1),l.addEventListener("touchend",i,!1),l.addEventListener("touchcancel",j,!1));for(var b=0;b<a.changedTouches.length;b++){var c=a.changedTouches[b],f={};for(var g in c)f[g]=c[g];var k={startTouch:f,startTime:Date.now(),status:"tapping",element:a.srcElement,pressingHandler:setTimeout(function(b){return function(){"tapping"===k.status&&(k.status="pressing",e(b,"press",{touchEvent:a})),clearTimeout(k.pressingHandler),k.pressingHandler=null}}(a.srcElement),500)};n[c.identifier]=k}if(2==Object.keys(n).length){var o=[];for(var g in n)o.push(n[g].element);e(d(o[0],o[1]),"dualtouchstart",{touches:m.call(a.touches),touchEvent:a})}}function h(a){for(var b=0;b<a.changedTouches.length;b++){var c=a.changedTouches[b],g=n[c.identifier];if(!g)return;var h=c.clientX-g.startTouch.clientX,i=c.clientY-g.startTouch.clientY,j=Math.sqrt(Math.pow(h,2)+Math.pow(i,2));"tapping"===g.status&&j>10&&(g.status="panning",e(g.element,"panstart",{touch:c,touchEvent:a}),Math.abs(h)>Math.abs(i)?(e(g.element,"horizontalpanstart",{touch:c,touchEvent:a}),g.isVertical=!1):(e(g.element,"verticalpanstart",{touch:c,touchEvent:a}),g.isVertical=!0)),"panning"===g.status&&(g.panTime=Date.now(),e(g.element,"pan",{displacementX:h,displacementY:i,touch:c,touchEvent:a}),g.isVertical?e(g.element,"verticalpan",{displacementY:i,touch:c,touchEvent:a}):e(g.element,"horizontalpan",{displacementX:h,touch:c,touchEvent:a}))}if(2==Object.keys(n).length){for(var k,l=[],m=[],o=[],b=0;b<a.touches.length;b++){var c=a.touches[b],g=n[c.identifier];l.push([g.startTouch.clientX,g.startTouch.clientY]),m.push([c.clientX,c.clientY])}for(var p in n)o.push(n[p].element);k=f(l[0][0],l[0][1],l[1][0],l[1][1],m[0][0],m[0][1],m[1][0],m[1][1]),e(d(o[0],o[1]),"dualtouch",{transform:k,touches:a.touches,touchEvent:a})}}function i(a){if(2==Object.keys(n).length){var b=[];for(var c in n)b.push(n[c].element);e(d(b[0],b[1]),"dualtouchend",{touches:m.call(a.touches),touchEvent:a})}for(var f=0;f<a.changedTouches.length;f++){var g=a.changedTouches[f],k=g.identifier,p=n[k];if(p){if(p.pressingHandler&&(clearTimeout(p.pressingHandler),p.pressingHandler=null),"tapping"===p.status&&(p.timestamp=Date.now(),e(p.element,"tap",{touch:g,touchEvent:a}),o&&p.timestamp-o.timestamp<300&&e(p.element,"doubletap",{touch:g,touchEvent:a}),this.lastTap=p),"panning"===p.status){var q=Date.now()-p.startTime,r=(g.clientX-p.startTouch.clientX)/q,s=(g.clientY-p.startTouch.clientY)/q,t=g.clientX-p.startTouch.clientX,u=g.clientY-p.startTouch.clientY;e(p.element,"panend",{isflick:300>q,touch:g,touchEvent:a}),300>q&&(e(p.element,"flick",{duration:q,velocityX:r,velocityY:s,displacementX:t,displacementY:u,touch:g,touchEvent:a}),p.isVertical?e(p.element,"verticalflick",{duration:q,velocityY:s,displacementY:u,touch:g,touchEvent:a}):e(p.element,"horizontalflick",{duration:q,velocityX:r,displacementX:t,touch:g,touchEvent:a}))}"pressing"===p.status&&e(p.element,"pressend",{touch:g,touchEvent:a}),delete n[k]}}0===Object.keys(n).length&&(l.removeEventListener("touchmove",h,!1),l.removeEventListener("touchend",i,!1),l.removeEventListener("touchcancel",j,!1))}function j(a){if(2==Object.keys(n).length){var b=[];for(var c in n)b.push(n[c].element);e(d(b[0],b[1]),"dualtouchend",{touches:m.call(a.touches),touchEvent:a})}for(var f=0;f<a.changedTouches.length;f++){var g=a.changedTouches[f],k=g.identifier,o=n[k];o&&(o.pressingHandler&&(clearTimeout(o.pressingHandler),o.pressingHandler=null),"panning"===o.status&&e(o.element,"panend",{touch:g,touchEvent:a}),"pressing"===o.status&&e(o.element,"pressend",{touch:g,touchEvent:a}),delete n[k])}0===Object.keys(n).length&&(l.removeEventListener("touchmove",h,!1),l.removeEventListener("touchend",i,!1),l.removeEventListener("touchcancel",j,!1))}var k=a.document,l=k.documentElement,m=Array.prototype.slice,n={},o=null;l.addEventListener("touchstart",g,!1)}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b,c){function d(a,b,c,d){var f=(this.TYPE,e.getTransformOffset(a)),g={translate:{x:f.x,y:f.y}},h={translate:{x:f.x,y:f.y}};b=b.split(""),c(g,h,b[0],b[1]);for(var i in g)"translate"===i?(a.style.webkitTransition="",a.style.webkitTransform=e.makeTranslateString(g[i].x,g[i].y)):a.style[i]=g[i];h.translate=[h.translate.x,h.translate.y],a.style.webkitBackfaceVisibility="hidden",a.style.webkitTransformStyle="preserve-3d",e.doTransition(a,h,{duration:"0.4s",timingFunction:"ease",callback:function(){a.style.webkitBackfaceVisibility="",a.style.webkitTransformStyle="",a.style.webkitTransition="",d&&d()}})}var e=(a.document,b.module.Animation),f={L:"x",R:"x",T:"y",B:"y"},g={L:-1,R:1,T:-1,B:1},h={TYPE:{LEFT_IN:"LI",LEFT_OUT:"LO",RIGHT_IN:"RI",RIGHT_OUT:"RO",TOP_IN:"TI",TOP_OUT:"TO",BOTTOM_IN:"BI",BOTTOM_OUT:"BO"},move:function(a,b,c,d){var f=e.getTransformOffset(a);a.style.webkitBackfaceVisibility="hidden",a.style.webkitTransformStyle="preserve-3d",e.translate(a,"0.4s","ease","0s",f.x+b,f.y+c,function(){a.style.webkitBackfaceVisibility="",a.style.webkitTransformStyle="",a.style.webkitTransition="",d&&d()})},slide:function(a,b,c,e){d(a,b,function(a,b,d,e){var h=f[d],i=g[d];"I"===e?a.translate[h]+=i*c:b.translate[h]+=i*c},e)},"float":function(a,b,c,e){d(a,b,function(a,b,d,e){var h=f[d],i=g[d];"I"===e?(a.translate[h]+=i*c,a.opacity=0,b.opacity=1):(b.translate[h]+=i*c,a.opacity=1,b.opacity=0)},e)},fadeIn:function(a,b){d(a,"FI",function(a,b,c,d){"I"===d?(a.opacity=0,b.opacity=1):(a.opacity=1,b.opacity=0)},b)},fadeOut:function(a,b){d(a,"FO",function(a,b,c,d){"I"===d?(a.opacity=0,b.opacity=1):(a.opacity=1,b.opacity=0)},callback)},zoomIn:function(a,b){},zoomOut:function(a,b){}};b.module.Transition=h}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b,c){function d(){var a=this;a.move=null,a.transition=null,a.datas=null,a._states=[],a._stateIdx=0,a._stateLimit=100}function e(a){return a.replace(n,"(P<$1>[^\\/]*?)").replace(o,"(P<$1>.*?)")}function f(a){var b=a.match(p),c={};return b&&b.forEach(function(a,b){c[a.replace(p,"$1")]=b}),c}function g(a){if(!a)return{};var b=a.split("&"),c={};return b.forEach(function(a){if(a){var b=a.split("=");c[b[0]]=b[1]}}),c}function h(a){return a=a.replace(p,""),new RegExp("^("+a+")$")}function i(){return s.hash.slice(1)||""}function j(a,b){b?s.replace("#"+a):s.hash=a}function k(){var a=this;a._started=!1,a._routes={},a._stack=new d}var l={reset:function(){var a=this;a.move=null,a.transition=null,a.datas=null,a.type=null,a._states=[],a._stateIdx=0,a._stateLimit=100},pushState:function(a,b,c,e){var f=this,g=f._states,h=f._stateIdx,i=f._stateLimit,j=g.length,k=f.move,l=f.transition,m=f.datas,n=f.type,o=g[h-1],p=g[h+1],q={name:a,fragment:b,type:n,params:c||{},datas:m||{}};for(var r in e)q.datas[r]=e[r];return null==k&&(l=k=!m&&d.isEquals(o,q)?"backward":"forward"),"backward"===k?0===h&&j>0?g.unshift(q):h>0&&(h--,q=o):"forward"===k?h===i-1?(g.shift(),g.push(q),q.referer=location.href.replace(/#[^#]*/,"#"+g[h-1].fragment)):0===h&&0===j?(g.push(q),q.referer=document.referer||""):!m&&d.isEquals(p,q)?(h++,q=p):d.isEquals(g[h],q)?q=g[h]:(h++,g.splice(h),g.push(q),q.referer=location.href.replace(/#[^#]*/,"#"+g[h-1].fragment)):"replace"===k&&(q.referer=location.href.replace(/#[^#]*/,"#"+g[h].fragment),g[h]=q),q.move=k,q.transition=l,q.index=h,f.move=null,f.transition=null,f.datas=null,f._stateIdx=h,q},getState:function(){return this._states[this._stateIdx]},getIndex:function(){return this._stateIdx}};for(var m in l)d.prototype[m]=l[m];d.isEquals=function(a,b){return a&&b?a.name!==b.name||a.fragment!==b.fragment?!1:!0:!1};var n=/\:([a-z0-9_-][a-z0-9_-]*)/gi,o=/\*([a-z0-9_-][a-z0-9_-]*)/gi,p=/P\<([a-z0-9_-][a-z0-9_-]*?)\>/gi,q="?",r=a.history,s=a.location,t={getStack:function(){return this._stack},handleEvent:function(){var a,b,c,d=this,e=d._routes,f=!0;if(d._started){b=i();for(var g in e)if(a=e[g],a["default"])c=a;else if(a.routeReg.test(b.split(q)[0])&&(f=!1,a.callback(b),a.last))break;f&&(c?c.callback(b):this._stack.pushState("unmatched",b,{},{}))}},addRoute:function(a,b,c){function d(b,d,e){var f=k._stack.pushState(a,b,d,e);f.isDefault=!!c["default"],c.callback&&c.callback(f)}var i,j,k=this;1===arguments.length&&(c=arguments[0],a=null,b=null),c||(c={}),c["default"]?k._routes[a]={"default":!0,callback:function(a){var b=g(a.split(q)[1]||"");d(a,{},b)}}:a&&b&&(b=e(b),i=f(b),j=h(b),k._routes[a]={routeText:b,routeReg:j,callback:function(a){var b=a.split(q),c=b[0].match(j).slice(2),e=g(b[1]||""),f={};for(var h in i)f[h]=c[i[h]];d(a,f,e)},last:c.last})},removeRoute:function(a){this._routes[a]&&delete this._routes[a]},hasRoute:function(a){return!!this._routes[a]},start:function(){return this._started?!1:(this._started=!0,a.addEventListener("hashchange",this,!1),this.handleEvent(),!0)},stop:function(){return this._started?(this._routes={},this._stack.reset(),this._started=!1,a.removeEventListener("hashchange",this,!1),!0):!1},push:function(a,b){var c=this,d=c._stack,e=d.getState(),f=d.getIndex();if(args=[],a||(a=""),b||(b={}),d.move=b.replace?"replace":"forward",d.transition="forward",/^(https?\:)?\/\//i.test(a))location.href=a;else if(a){if(!e||e.fragment!==a||b.data){if(b.type||(b.type="GET"),b.data||(b.data={}),"GET"===b.type.toUpperCase())for(var g in b.data)args.push(g+"="+b.data[g]);"POST"===b.type.toUpperCase()&&(d.datas=b.data),"backward"===b.transition&&(d.transition="backward"),d.type=b.type.toUpperCase(),j(a+(args.length?q+args.join("&"):""),!!b.replace)}}else f<d._states.length-1&&r.forward()},pop:function(a){var b=this,c=b._stack,d=c.getIndex();0!==d&&(c.move="backward",c.transition="backward",a&&"forward"===a.transition&&(c.transition="forward"),r.back())},resolve:function(a,b){var c,d=this._routes[a],e="";return d&&(c=d.routeText,e=c.replace(/\(P<[a-z0-9_-][a-z0-9_-]*?>.*?\)/g,function(a){p.lastIndex=0;var c=p.exec(a)[1];return b[c]||"undefined"}).replace("\\/?","").replace("\\","")),e}};for(var m in t)k.prototype[m]=t[m];k.instance=new k,b.module.StateStack=d,b.module.Navigation=k}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b,c){function d(a){var b=this,c=!0,e={};f.mixto(b,"model-"+g++),b.addProperty=function(f,g){Object.defineProperty(b,f,{get:function(){return e[f]||a[f]},set:function(g){e[f]&&(e[f].destory(),delete e[f]),null!=g&&(a[f]=g,"object"==typeof g&&(e[f]=new d(g),e[f].on("propertyChange",function(a){b.trigger("propertyChange",{target:a.target,value:a.value,name:a.name,path:f+"."+a.path})}))),!c&&b.trigger("propertyChange",{target:b,value:e[f]||a[f],name:f,path:f})}}),b[f]=g},b.update=function(a){if(a instanceof Array)for(var c=0;c<a.length;c++)a[c]instanceof d||this.addProperty(c,a[c]);else for(var e in a){if(b.hasOwnProperty(e))throw new Error('property conflict "'+e+'"');!a.hasOwnProperty(e)||a[e]instanceof d||this.addProperty(e,a[e])}},b.destory=function(){for(var a in e)e[a].destory();b.off()},b.on("propertyChange",function(a){b.trigger("change:"+a.path,a.value)}),b.update(a),c=!1}function e(a){var b=this;!a instanceof Array||(b.push=function(c){a.push(c),b.addProperty(a.length-1,c)},b.pop=function(){var c=a.pop();return b[a.length]=null,c},Object.defineProperty(b,"length",{get:function(){return a.length}}),d.call(b,a))}var f=b.module.MessageScope,g=0;b.module.Model=d,b.module.Collection=e}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b,c){function d(a){return 0-(a.bounceTop||0)}function e(a){var b=a.getBoundingClientRect(),c=a.parentNode.getBoundingClientRect(),e=d(a),f=0-b.height+c.height;return Math.min(f+(a.bounceBottom||0),e)}function f(a,b){return b>a.minScrollTop?b-a.minScrollTop:b<a.maxScrollTop?a.maxScrollTop-b:void 0}function g(a,b){return b>a.minScrollTop?b=a.minScrollTop:b<a.maxScrollTop&&(b=a.maxScrollTop),b}function h(a,b,c){var d=v.createEvent("HTMLEvents");d.initEvent(b,!0,!0);for(var e in c)d[e]=c[e];a.dispatchEvent(d)}function i(a){if(!stopBounce){for(var b=a.srcElement;!b.boundScrollEvent;)b=b.parentNode||b.offsetParent;if(u=b.boundScrollElement){var c=x.getTransformOffset(u);u.style.webkitBackfaceVisibility="hidden",u.style.webkitTransformStyle="preserve-3d",u.style.webkitTransition="",u.style.webkitTransform=x.makeTranslateString(c.x,c.y)}}}function j(a){return a.preventDefault(),!1}function k(a){}function l(a){!stopBounce&&u&&(u.transformOffset=x.getTransformOffset(u),u.minScrollTop=d(u),u.maxScrollTop=e(u),y=2.5,stopBounce=!1,z=!1,h(u,"scrollstart"))}function m(a){if(!stopBounce&&u){var b=u.transformOffset.y+a.displacementY;if(b>u.minScrollTop?(b=u.minScrollTop+(b-u.minScrollTop)/y,y*=1.003,y>4&&(y=4)):b<u.maxScrollTop&&(b=u.maxScrollTop-(u.maxScrollTop-b)/y,y*=1.003,y>4&&(y=4)),f(u,b)){if(b>u.minScrollTop)var c="pulldown",d=Math.abs(b-u.minScrollTop);else if(b<u.maxScrollTop)var c="pullup",d=Math.abs(u.maxScrollTop-b);u.bounceOffset=d,h(u,c)}u.style.webkitTransition="",u.style.webkitTransform=x.makeTranslateString(u.transformOffset.x,b)}}function n(a){if(!stopBounce&&u){var b=x.getTransformOffset(u).y;f(u,b)?p():r()}}function o(a){if(!stopBounce&&u){var b=x.getTransformOffset(u).y,c=.008*(a/Math.abs(a));t=a/c,s=b+t*a/2,h(u,"bouncestart"),x.translate(u,t.toFixed(0)+"ms","cubic-bezier("+x.genCubicBezier(-t,0)+")","0s",u.transformOffset.x,s.toFixed(0),p)}}function p(){if(!stopBounce&&u){var a=x.getTransformOffset(u).y;a=g(u,a),x.translate(u,"0.4s","ease-in-out","0s",u.transformOffset.x,a,function(){h(u,"bounceend"),r()})}}function q(a){if(!stopBounce&&u){var b,c,d,e,f,g,h,i=x.getTransformOffset(u).y;z=!0,i>u.minScrollTop||i<u.maxScrollTop?o(b):(b=a.velocityY,b>1.5&&(b=1.5),-1.5>b&&(b=-1.5),c=.0015*(b/Math.abs(b)),d=b/c,e=i+d*b/2,e>u.minScrollTop?(g=u.minScrollTop-i,h=(b-Math.sqrt(-2*c*g+b*b))/c,f=b-c*h,x.translate(u,h.toFixed(0)+"ms","cubic-bezier("+x.genCubicBezier(-d,-d+h)+")","0s",u.transformOffset.x,u.minScrollTop,function(){o(f)})):e<u.maxScrollTop?(g=u.maxScrollTop-i,h=(b+Math.sqrt(-2*c*g+b*b))/c,f=b-c*h,x.translate(u,h.toFixed(0)+"ms","cubic-bezier("+x.genCubicBezier(-d,-d+h)+")","0s",u.transformOffset.x,u.maxScrollTop,function(){o(f)})):x.translate(u,d.toFixed(0)+"ms","cubic-bezier("+x.genCubicBezier(-d,0)+")","0s",u.transformOffset.x,e.toFixed(0),r))}}function r(){!stopBounce&&u&&(z=!1,setTimeout(function(){!z&&u&&(u.style.webkitBackfaceVisibility="initial",u.style.webkitTransformStyle="flat",u.style.webkitTransition="",h(u,"scrollend"))},10))}var u,v=a.document,w=v.documentElement,x=b.module.Animation,y=2,z=!1;stopBounce=!1,prevented=!1;var A={enable:function(a,b){var c=a.parentNode||a.offsetParent;prevented||(prevented=!0,w.addEventListener("touchmove",j,!1)),c.boundScrollEvent||(c.boundScrollEvent=!0,c.addEventListener("touchstart",i,!1),c.addEventListener("touchend",k,!1),c.addEventListener("panstart",l,!1),c.addEventListener("pan",m,!1),c.addEventListener("panend",n,!1),c.addEventListener("flick",q,!1)),c.boundScrollElement=a,b?(a.bounceTop=b.bounceTop,a.bounceBottom=b.bounceBottom):(a.bounceTop=0,a.bounceBottom=0);var d=x.getTransformOffset(a).x,e=-a.bounceTop;a.style.webkitTransition="",a.style.webkitTransform=x.makeTranslateString(d,e)},disable:function(a){var b,c=a.parentNode||a.offsetParent;c.boundScrollElement===a&&(b=x.getTransformOffset(a),u=c.boundScrollElement=null,setTimeout(function(){a.style.webkitTransition="",a.style.webkitTransform=x.makeTranslateString(b.x,b.y)},50))},getScrollHeight:function(a){return a.getBoundingClientRect().height-(a.bounceTop||0)-(a.bounceBottom||0)},getScrollTop:function(a){var b=x.getTransformOffset(a);return-(b.y+(a.bounceTop||0))},refresh:function(a){a.style.height="auto",a.style.height=a.offsetHeight+"px",a.offset=x.getTransformOffset(a),a.minScrollTop=d(a),a.maxScrollTop=e(a),this.scrollTo(a,-a.offset.y-a.bounceTop)},offset:function(a,b){var c=a.getBoundingClientRect(),d=b.getBoundingClientRect(),e={top:d.top-((a.bounceTop||0)+c.top),left:d.left-c.left,right:c.right-d.right,width:d.width,height:d.height};return e.bottom=e.top+d.height,e},scrollTo:function(a,b){var c=x.getTransformOffset(a).x,b=-b-(a.bounceTop||0);b=g(a,b),a.style.webkitTransition="",a.style.webkitTransform=x.makeTranslateString(c,b)},scrollToElement:function(a,b){var c=this.offset(a,b);this.scrollTo(a,c.top)},getViewHeight:function(a){return a.parentNode.getBoundingClientRect().height},getBoundaryOffset:function(a){var b=x.getTransformOffset(a).y;return f(a,b)},stopBounce:function(a){stopBounce=!0;var b=x.getTransformOffset(a),c=d(a),f=e(a),g=null;b.y>c+(a.bounceTop||0)?g=c+(a.bounceTop||0):b.y<f-(a.bounceBottom||0)&&(g=f-(a.bounceBottom||0)),null!=g&&x.translate(a,"0.4s","ease-in-out","0s",b.x,g)},resumeBounce:function(a){stopBounce=!1;var b,c=x.getTransformOffset(a),f=d(a),g=e(a);c.y>f?b=f:g>c&&(b=g),null!=b&&x.translate(a,"0.4s","ease-in-out","0s",c.x,b)}};b.module.Scroll=A}(window,window.app||(window.app={module:{},plugin:{}})),function(a,b,c){function d(a,b){return b||(b=m),b.querySelector(a)}function e(a,b){var c=m.createEvent("HTMLEvents");c.initEvent(b,!0,!0),a.dispatchEvent(c)}function f(){if(p)e(window,"scrollend");else{var a=window.scrollY;setTimeout(function(){window.scrollY===a&&e(window,"scrollend")},150)}}function g(a,c){if(a.plugins)for(var d in a.plugins){var e=b.plugin[d],f=a.plugins[d];f===!0&&(f=a.plugins[d]={}),e&&f&&e[c]&&e[c](a,f)}}function h(a,c,d){if(2===arguments.length&&(d=c,c=a,a=null),c.plugins)for(var e in c.plugins){var f=b.plugin[e],g=c.plugins[e];if(f&&g){if(g===!0&&(g=c.plugins[e]={}),a){a.plugins[e]||(a.plugins[e]={});for(var h in g)null==a.plugins[e][h]&&(a.plugins[e][h]=c.plugins[e][h]);g=a.plugins[e]}f[d]&&f[d](c,g)}}}function i(a,b,c){var d=a[b];if("string"==typeof d)H.on("template:loaded",function(a){d===a&&(H.off("template:loaded",arguments.callee),c&&c())});else if("object"==typeof d)for(var b in d)i(d,b,function(){var a=!0;for(var b in d)if("function"!=typeof d[b]){a=!1;break}a&&c&&c()});else c&&c()}function j(a,b){return a.compile(b),function(b){return a.render(b)}}function k(a,b){var c=a[b];if("string"==typeof c){var d;E[c]?a[b]=E[c]:c.match(/\.tpl$/g)?(d=new u,d.load(c,function(e){a[b]=E[c]=j(d,e),H.trigger("template:loaded",c)})):(d=new u,a[b]=E[c]=j(d,c))}else if("object"==typeof c)for(var b in c)k(c,b)}function l(){return t.getStack().getState()}var m=a.document,n=a.$,o=navigator.appVersion,p=/iphone|ipad/gi.test(o),q=b.module,r=q.MessageScope,s=q.Navigation,t=s.instance,u=q.Template,v=q.View,w=q.Page,x=q.Navbar,y=q.Toolbar,z=q.Content,A=q.Scroll,B=(q.Animation,q.Transition),C={},D={},E={},F={},G=b.config={viewport:null,templateEngine:null,resourceCombo:null,resourceBase:"./",enableMessageLog:!1,enableContent:!0,enableNavbar:!1,enableToolbar:!1,enableScroll:!1,enableTransition:!1,pushState:!1,basePath:"/"},H=r.get("hooks");H.on("app:start",function(){var a=b.config;x||(a.enableNavbar=!1),y||(a.enableToolbar=!1),A||(a.enableScroll=!1),B||(a.enableTransition=!1),r.isLogging=a.enableMessageLog,a.enableNavbar===!0&&(a.enableNavbar={}),a.enableToolbar===!0&&(a.enableToolbar={}),a.enableScroll===!0&&(a.enableScroll={}),a.enableTransition===!0&&(a.enableTransition={}),"number"==typeof a.enableContent?a.enableContent={cacheLength:a.enableContent}:a.enableContent instanceof HTMLElement?a.enableContent={wrapEl:a.enableContent}:"object"!=typeof a.enableContent&&(a.enableContent={})}),"onorientationchange"in a&&window.addEventListener("onorientationchange",function(a){setTimeout(function(){H.trigger("orientaion:change")},10)},!1),window.addEventListener("resize",function(a){setTimeout(function(){H.trigger("screen:resize")},10)}),H.on("view:extend",function(a){var b=a.prototype.render,c=a.prototype.destory;a.prototype.render=function(){var a=this,c=arguments;i(a,"template",function(){H.trigger("view:render",a,arguments),b.apply(a,c)})},a.prototype.destory=function(){H.trigger("view:destory",this,arguments),c.apply(this,arguments)}}),H.on("page:define",function(a){var b=a.ready,c=a.startup,d=a.teardown,e=a.show,f=a.hide,g=!1,h=!1;a.ready=function(c){g||(H.trigger("page:ready",c,a),b.call(a),g=!0)},a.startup=function(b){H.trigger("page:startup",b,a),c.call(a)},a.show=function(b){H.trigger("page:show",b,a),e.call(a,h),h=!0},a.hide=function(b){H.trigger("page:hide",b,a),f.call(a,h)},a.teardown=function(b){H.trigger("page:teardown",b,a),d.call(a),h=!1},a.html=function(a){this.el.innerHTML=a}}),H.on("page:define page:defineMeta",function(a){var b=a.name,c=a.route;t.hasRoute(b)||(c?"string"==typeof c&&(c={name:b,text:c}):c={name:b,"default":!0},t.addRoute(c.name,c.text,{"default":c["default"],callback:function(a){r.get("navigation").trigger(a.move,a)},last:!0}))}),H.on("app:start",function(){var a,b=G.enableNavbar,c=G.enableToolbar,e=G.enableContent,g=G.enableTransition,h=G.enableScroll;G.viewport||(G.viewport=d(".viewport")||m.body),e.wrapEl||(e.wrapEl=d(".content",G.viewport)||G.viewport),e.cacheLength||(e.cacheLength=e.wrapEl===G.viewport?1:5),a=e.instance=new z(e.wrapEl,{cacheLength:e.cacheLength}),b&&(G.viewport.className+=" enableNavbar",b.wrapEl||(b.wrapEl=d(".navbar",G.viewport)),b.instance=new x(b.wrapEl)),c&&(G.viewport.className+=" enableToolbar",
c.wrapEl||(c.wrapEl=d(".toolbar",G.viewport)),c.instance=new y(c.wrapEl,c)),h?(G.viewport.className+=" enableScroll",h.wrapEl=a.getActive()):window.addEventListener("scroll",f,!1),g&&(G.viewport.className+=" enableTransition",g.wrapEl=a.contentEl)}),H.on("app:start",function(){for(var a in b.plugin){var c=b.plugin[a];c.onAppStart&&c.onAppStart()}}),H.on("view:render",function(a){g(a,"onViewRender")}),H.on("view:destory",function(a){g(a,"onViewTeardown")}),H.on("page:define",function(a){h(a,"onPageDefine")}),H.on("page:startup",function(a,b){h(a,b,"onPageStartup")}),H.on("page:show",function(a,b){h(a,b,"onPageShow")}),H.on("page:hide",function(a,b){h(a,b,"onPageHide")}),H.on("page:teardown",function(a,b){h(a,b,"onPageTeardown")}),H.once("view:extend page:define",function(){u.engine=G.templateEngine||{}}),H.on("view:extend",function(a){a.prototype.template&&k(a.prototype,"template")}),H.on("page:define",function(a){a.template&&k(a,"template")}),H.on("app:start",function(){function a(){var a=m.pageMeta.title||o.title,c=m.pageMeta.buttons||o.buttons;if(c)for(var d=0;d<c.length;d++){var e=c[d],f=e.handler;e.id||(e.id="btn-"+Date.now()+"-"+parseInt(10*Math.random())),"string"==typeof f&&(f=o[f]),"back"===e.type&&(e.hide=e.autoHide!==!1&&m.index<1,f||(f=function(){b.navigation.pop()})),e.handler=function(a){return function(b){a&&a.call(o,b,m.index)}}(f)}else c=[{id:"back",type:"back",text:"back",hide:m.index<1?!0:!1,handler:function(){b.navigation.pop()}}];if(z||!q){b.navigation.resetNavbar(),b.navigation.setTitle(a);for(var d=0;d<c.length;d++)b.navigation.setButton(c[d])}else b.navigation.switchNavbar(a,m.transition,c)}function c(){if(t){var a=t.instance,c=m.pageMeta.toolbar||o.toolbar;t.wrapEl.innerHTML="","number"==typeof c&&(c={height:c}),c?(b.navigation.setToolbar(c),a.show()):a.hide()}}function d(){z||("backward"===m.move?v.previous():v.next())}function e(){var a=y?G.viewport.offsetHeight:window.innerHeight;s&&(a-=s.wrapEl.offsetHeight),t&&(a-=t.wrapEl.offsetHeight),y?u.wrapEl.style.height=a+"px":(u.wrapEl.style.minHeight=a+"px",u.instance.getActive().style.minHeight=a+"px")}function f(){!z&&y&&(A.disable(y.wrapEl),y.wrapEl=v.getActive(),A.enable(y.wrapEl,o.scroll))}function g(){if(z)H.trigger("navigation:switchend",m);else{var a=m.transition;if(x&&q){var b=x.wrapEl,c=v.transEl,d=v.transShadeEl,e=b.getBoundingClientRect().width,f=e*("backward"===a?1:-1),g=b.className+=" "+a;d.style["backward"===a?"right":"left"]=e+"px",c.style.display="block",B.move(d,f,0,function(){v.setClassName(),b.className=g.replace(" "+a,""),d.style.cssText="",c.style.cssText="",H.trigger("navigation:switchend",m)})}else v.setClassName(),H.trigger("navigation:switchend",m)}}function h(a){for(var c in b.plugin){var d=b.plugin[c];d&&(m.plugins[c]||(m.plugins[c]={}),d[a]&&d[a](m.plugins[c]))}}function j(){var a;(a=D[m.name])&&(a.css&&b.loadResource(a.css,"css"),a.js&&b.loadResource(a.js,"js",function(){o=w.get(m.name),o&&(o.ready(),k())}))}function k(){o.el=v.getActive(),n&&(o.$el=n(o.el)),a(),c(),f(),g(),i(o,"template",l)}function l(){var a=o.el.getAttribute("data-fragment"),b=C[a];E||z&&m.isDefault||(q&&q.hide(p),o.el.setAttribute("data-fragment",m.fragment),a===m.fragment||z||(b&&(b.page.teardown(b.state),delete C[a]),C[m.fragment]={state:m,page:o},o.el.innerHTML="",o.startup(m)),o.show(m),p=m,q=o),H.trigger("page:domready")}var m,o,p,q,s=G.enableNavbar,t=G.enableToolbar,u=G.enableContent,v=u.instance,x=G.enableTransition,y=G.enableScroll,z=!1,E=!1;r.get("navigation").on("forward backward replace",function(){m=arguments[0],m.pageMeta||(m.pageMeta={}),m.plugins||(m.plugins={}),o=w.get(m.name),p&&(z=p.name===m.name,E=p.fragment===m.fragment),H.trigger("navigation:switch",m),o?k():j()}),H.on("navigation:switch",function(){d(),h("onNavigationSwitch")}),H.on("navigation:switchend",function(){e(),h("onNavigationSwitchEnd")}),H.after("page:domready navigation:switchend",function(){h("onDomReady")}),H.on("orientaion:change screen:resize",function(){e()})}),b.start=function(a){for(var c in a)b.config[c]=a[c];H.trigger("app:start"),t.start()},b.setTemplate=function(a,b){"string"==typeof b?E[a]=j(new u,b):"function"==typeof b&&(E[a]=b)},b.extendView=function(a){var b=v.extend(a);return H.trigger("view:extend",b),b},b.getView=function(a){var b=v.get(a);if(b){var c=Object.create(b.prototype),d=Array.prototype.slice.call(arguments,1);return b.apply(c,d),c}},b.definePage=function(a){var b=w.define(a);return H.trigger("page:define",b),b},b.definePageMeta=function(a){a instanceof Array||(a=[a]),a.forEach(function(a){D[a.name]=a,H.trigger("page:defineMeta",a)})},b.getPage=function(a){return w.get(a)};var I=document.createElement("a");b.loadResource=function(a,c,d){function e(){return"resource-"+Date.now()+"-"+Object.keys(F).length}function f(a){return a.match(/^(https?\:)?\/\//)?a:b.config.resourceBase+a}function g(a,b){if(!a)return b();if(a=I.href=f(a),"string"==typeof F[a])return b();var d=F[a]=e();if("js"===c||a.match(/\.js$/)){var g=document.createElement("script"),h=!1;g.id=d,g.async=!0,g.onload=g.onreadystatechange=function(){h||(h=!0,b&&b(a))},g.src=a,m.body.appendChild(g)}else if("css"===c||a.match(/\.css$/)){var i=document.createElement("link");i.id=d,i.type="text/css",i.rel="stylesheet",i.href=a,m.body.appendChild(i),b()}}2===arguments.length&&"function"==typeof arguments[1]&&(d=arguments[1],c=null),"string"==typeof a&&(a=[a]);var h=[],i=G.resourceCombo;a.forEach(function(a){I.href=f(a),F[I.href]||(F[I.href]=!0,h.push(a))}),i&&(h=i(h),"string"==typeof h&&(h=[h])),g(h.shift(),function(){h.length?g(h.shift(),arguments.callee):d&&d()})},b.navigation={push:function(a,b){t.push(a,b)},replace:function(a,b){b||(b={}),b.replace=!0,t.push(a,b)},pop:function(){t.pop()},resolveFragment:function(a,b){return t.resolve(a,b)},getReferer:function(){return l().referer},getParameter:function(a){var b=l();return b.params[a]||b.datas[a]},getParameters:function(){var a=l(),b={};for(var c in a.params)b[c]=a.params[c];for(var c in a.datas)b[c]=a.datas[c];return b},setData:function(a,b){l().datas[a]=b},setTitle:function(a){var b=l();G.enableNavbar&&G.enableNavbar.instance.setTitle(a),b.pageMeta.title=a},setButton:function(a){if(a instanceof Array)for(var b=0;b<a.length;b++)this.setButton(a[b]);else{var c=l();if(G.enableNavbar&&G.enableNavbar.instance.setButton(a),c.pageMeta.buttons){for(var b=0;b<c.pageMeta.buttons.length;b++){var d=c.pageMeta.buttons[b];if("back"===d.type&&"back"===a.type||d.id===a.id){for(var e in a)d[e]=a[e];return}}c.pageMeta.buttons.push(a)}else c.pageMeta.buttons=[a]}},switchNavbar:function(a,b,c){if(G.enableNavbar){this.resetNavbar(),this.setTitle(a);for(var d=0;d<c.length;d++)this.setButton(c[d]);B["float"](G.enableNavbar.instance.animWrapEl,"backward"===b?"LI":"RI",50)}},resetNavbar:function(){var a=l();G.enableNavbar&&G.enableNavbar.instance.removeButton(),a.pageMeta.buttons=[]},setToolbar:function(a){var b=l();G.enableToolbar&&G.enableToolbar.instance.set(a),b.pageMeta.toolbar=a}},b.scroll={getScrollHeight:function(){var a=G.enableScroll;return a?A.getScrollHeight(a.wrapEl):m.body.scrollHeight},getScrollTop:function(){var a=G.enableScroll;return a?A.getScrollTop(a.wrapEl):m.body.scrollTop},refresh:function(){var a=G.enableScroll;a&&A.refresh(a.wrapEl)},offset:function(a){var b=G.enableScroll;return b?A.offset(b.wrapEl,a):A.offset(m.body,a)},scrollTo:function(a){var b=G.enableScroll;b?A.scrollTo(b.wrapEl,a):m.body.scrollTop=a},scrollToElement:function(a){var b=G.enableScroll;b?A.scrollToElement(b.wrapEl,a):a.scrollIntoView()},getViewHeight:function(){var a=G.enableScroll;return a?A.getViewHeight(a.wrapEl):window.innerHeight},getBoundaryOffset:function(){var a=G.enableScroll;return a?A.getBoundaryOffset(a.wrapEl):0},stopBounce:function(){var a=G.enableScroll;a&&A.stopBounce(a.wrapEl)},resumeBounce:function(){var a=G.enableScroll;a&&A.resumeBounce(a.wrapEl)},addEventListener:function(a,b,c){var d=G.enableScroll,e=(G.enableContent.instance,d?d.wrapEl:window);e.addEventListener(a,b,c)},removeEventListener:function(a,b){var c=G.enableScroll,d=(G.enableContent.instance,c?c.wrapEl:window);d.removeEventListener(a,b)},getElement:function(){var a=G.enableScroll;return a?a.wrapEl:m.body}}}(window,window.app||(window.app={module:{},plugin:{}}));