(function(e,t){function n(e){return e+="",0>e.indexOf("px")&&0>e.indexOf("%")&&"0"!==e&&(e+="px"),e}function a(e){return e+="",0>e.indexOf("deg")&"0"!==e&&(e+="deg"),e}function i(e,t){return t||(t="-"),e.replace(/[a-z][A-Z]/g,"$1"+t+"$2").toLowerCase()}function o(e){var t=/ms|s|m|h$/.exec(e)[0],n={ms:1,s:1e3,m:6e4,h:36e5};return parseFloat(e)*n[t]}var r=/^matrix3d\(\d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, ([-\d.]+), ([-\d.]+), [-\d.]+, \d+\)/,s=/^matrix\(\d+, \d+, \d+, \d+, ([-\d.]+), ([-\d.]+)\)$/,l=/^(translate|rotate|scale)(X|Y|Z|3d)?|(matrix)(3d)?|(perspective)|(skew)(X|Y)?$/i,c=(/android/gi.test(navigator.appVersion),/iphone|ipad/gi.test(navigator.appVersion),"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix),u={translate:function(e,t,n,a,i,o,r){this.doTransition(e,{translate:[i,o]},{duration:t,timingFunction:n,delay:a,callback:r})},doTransition:function(e,t,r){function s(t){b||(e.removeEventListener("webkitTransitionEnd",s,!1),t&&t.srcElement!==e||(b=!0,setTimeout(r.callback,10)))}var u,p=[r.duration,r.timingFunction||"ease",r.delay||"0s"].join(" "),f="",d=[],h={};for(var g in t){var v=t[g];if(u=g.match(l)){v instanceof Array||(v=[v]);var m=u[1]||u[3]||u[5]||u[6],w=u[2]||u[4]||u[7]||"";"translate"===m&&""===w&&c&&(w="3d",v.push(0)),"translate"===m?v=v.map(n):("rotate"===m||"skew"===m)&&(v=v.map(a)),f+=m+w+"("+v.join(",")+")"}else d.push(i(g)+" "+p),h[g]=v;f&&d.push("-webkit-transform "+p)}var b=!1;r.callback&&e.addEventListener("webkitTransitionEnd",s,!1),setTimeout(s,1.2*o(r.duration)),setTimeout(function(){e.style.webkitTransition=d.join(", "),f.length&&(e.style.webkitTransform=f);for(var t in h)e.style[t]=h[t]},10)},genCubicBezier:function(e,t){return[[(e/3+(e+t)/3-e)/(t-e),(e*e/3+2*e*t/3-e*e)/(t*t-e*e)],[(t/3+(e+t)/3-e)/(t-e),(t*t/3+2*e*t/3-e*e)/(t*t-e*e)]]},makeTranslateString:function(e,t){return e=n(e),t=n(t),c?"translate3d("+e+", "+t+", 0)":"translate("+e+", "+t+")"},getTransformOffset:function(e){var t,n,a={x:0,y:0},i=getComputedStyle(e).webkitTransform;return"none"!==i&&(n=i.indexOf("matrix3d")>-1?r:s,(t=i.match(n))&&(a.x=parseInt(t[1])||0,a.y=parseInt(t[2])||0)),a}};t.module.Animation=u})(window,window.app||(window.app={module:{},plugin:{}})),function(e,t){function n(e,t){t||(t={}),this._wrapEl=e,this._cacheLength=Math.max(t.cacheLength,1),this._cacheIndex=0;for(var n="",a=0;this._cacheLength>a;a++)n+='<div class="inactive" index="'+a+'"></div>';this._wrapEl.innerHTML='<div class="wrap">'+n+'</div><div class="trans"><div></div></div>',this.contentEl=this._wrapEl.childNodes[0],this.transEl=this._wrapEl.childNodes[1],this.transShadeEl=this.transEl.childNodes[0],this.setClassName()}var a={setClassName:function(){this.getActive().className="active",this._cacheLength>2?(this.getPrevious().className="inactive prev",this.getNext().className="inactive next"):this._cacheLength>1&&(this.getPrevious().className="inactive")},getActive:function(){var e=this._cacheIndex;return this.contentEl.childNodes[e]},getNext:function(){var e=(this._cacheIndex+1)%this._cacheLength;return this.contentEl.childNodes[e]},getPrevious:function(){var e=(this._cacheIndex-1+this._cacheLength)%this._cacheLength;return this.contentEl.childNodes[e]},next:function(){this._cacheLength>2&&(this.getPrevious().className="inactive"),this._cacheIndex=(this._cacheIndex+1)%this._cacheLength},previous:function(){this._cacheLength>2&&(this.getNext().className="inactive"),this._cacheIndex=(this._cacheIndex-1+this._cacheLength)%this._cacheLength},html:function(e){this.getActive().innerHTML=e}};for(var i in a)n.prototype[i]=a[i];t.module.Content=n}(window,window.app||(window.app={module:{},plugin:{}})),function(e){function t(e,t){for(var n=e;n;){if(n.contains(t)||n==t)return n;n=n.parentNode}return null}function n(e,t,n){var a=l.createEvent("HTMLEvents");if(a.initEvent(t,!0,!0),"object"==typeof n)for(var i in n)a[i]=n[i];e.dispatchEvent(a)}function a(e,t,n,a,i,o,r,s){var l=Math.atan2(s-o,r-i)-Math.atan2(a-t,n-e),c=Math.sqrt((Math.pow(s-o,2)+Math.pow(r-i,2))/(Math.pow(a-t,2)+Math.pow(n-e,2))),u=[i-c*e*Math.cos(l)+c*t*Math.sin(l),o-c*t*Math.cos(l)-c*e*Math.sin(l)];return{rotate:l,scale:c,translate:u,matrix:[[c*Math.cos(l),-c*Math.sin(l),u[0]],[c*Math.sin(l),c*Math.cos(l),u[1]],[0,0,1]]}}function i(e){0===Object.keys(p).length&&(c.addEventListener("touchmove",o,!1),c.addEventListener("touchend",r,!1),c.addEventListener("touchcancel",s,!1));for(var a=0;e.changedTouches.length>a;a++){var i=e.changedTouches[a],l={};for(var f in i)l[f]=i[f];var d={startTouch:l,startTime:Date.now(),status:"tapping",element:e.srcElement,pressingHandler:setTimeout(function(t){return function(){"tapping"===d.status&&(d.status="pressing",n(t,"press",{touchEvent:e})),clearTimeout(d.pressingHandler),d.pressingHandler=null}}(e.srcElement),500)};p[i.identifier]=d}if(2==Object.keys(p).length){var h=[];for(var f in p)h.push(p[f].element);n(t(h[0],h[1]),"dualtouchstart",{touches:u.call(e.touches),touchEvent:e})}}function o(e){for(var i=0;e.changedTouches.length>i;i++){var o=e.changedTouches[i],r=p[o.identifier];if(!r)return;var s=o.clientX-r.startTouch.clientX,l=o.clientY-r.startTouch.clientY,c=Math.sqrt(Math.pow(s,2)+Math.pow(l,2));"tapping"===r.status&&c>10&&(r.status="panning",n(r.element,"panstart",{touch:o,touchEvent:e}),Math.abs(s)>Math.abs(l)?(n(r.element,"horizontalpanstart",{touch:o,touchEvent:e}),r.isVertical=!1):(n(r.element,"verticalpanstart",{touch:o,touchEvent:e}),r.isVertical=!0)),"panning"===r.status&&(r.panTime=Date.now(),n(r.element,"pan",{displacementX:s,displacementY:l,touch:o,touchEvent:e}),r.isVertical?n(r.element,"verticalpan",{displacementY:l,touch:o,touchEvent:e}):n(r.element,"horizontalpan",{displacementX:s,touch:o,touchEvent:e}))}if(2==Object.keys(p).length){for(var u,f=[],d=[],h=[],i=0;e.touches.length>i;i++){var o=e.touches[i],r=p[o.identifier];f.push([r.startTouch.clientX,r.startTouch.clientY]),d.push([o.clientX,o.clientY])}for(var g in p)h.push(p[g].element);u=a(f[0][0],f[0][1],f[1][0],f[1][1],d[0][0],d[0][1],d[1][0],d[1][1]),n(t(h[0],h[1]),"dualtouch",{transform:u,touches:e.touches,touchEvent:e})}}function r(e){if(2==Object.keys(p).length){var a=[];for(var i in p)a.push(p[i].element);n(t(a[0],a[1]),"dualtouchend",{touches:u.call(e.touches),touchEvent:e})}for(var l=0;e.changedTouches.length>l;l++){var d=e.changedTouches[l],h=d.identifier,g=p[h];if(g){if(g.pressingHandler&&(clearTimeout(g.pressingHandler),g.pressingHandler=null),"tapping"===g.status&&(g.timestamp=Date.now(),n(g.element,"tap",{touch:d,touchEvent:e}),f&&300>g.timestamp-f.timestamp&&n(g.element,"doubletap",{touch:d,touchEvent:e}),this.lastTap=g),"panning"===g.status){var v=Date.now()-g.startTime,m=(d.clientX-g.startTouch.clientX)/v,w=(d.clientY-g.startTouch.clientY)/v,b=d.clientX-g.startTouch.clientX,y=d.clientY-g.startTouch.clientY;n(g.element,"panend",{isflick:300>v,touch:d,touchEvent:e}),300>v&&(n(g.element,"flick",{duration:v,velocityX:m,velocityY:w,displacementX:b,displacementY:y,touch:d,touchEvent:e}),g.isVertical?n(g.element,"verticalflick",{duration:v,velocityY:w,displacementY:y,touch:d,touchEvent:e}):n(g.element,"horizontalflick",{duration:v,velocityX:m,displacementX:b,touch:d,touchEvent:e}))}"pressing"===g.status&&n(g.element,"pressend",{touch:d,touchEvent:e}),delete p[h]}}0===Object.keys(p).length&&(c.removeEventListener("touchmove",o,!1),c.removeEventListener("touchend",r,!1),c.removeEventListener("touchcancel",s,!1))}function s(e){if(2==Object.keys(p).length){var a=[];for(var i in p)a.push(p[i].element);n(t(a[0],a[1]),"dualtouchend",{touches:u.call(e.touches),touchEvent:e})}for(var l=0;e.changedTouches.length>l;l++){var f=e.changedTouches[l],d=f.identifier,h=p[d];h&&(h.pressingHandler&&(clearTimeout(h.pressingHandler),h.pressingHandler=null),"panning"===h.status&&n(h.element,"panend",{touch:f,touchEvent:e}),"pressing"===h.status&&n(h.element,"pressend",{touch:f,touchEvent:e}),delete p[d])}0===Object.keys(p).length&&(c.removeEventListener("touchmove",o,!1),c.removeEventListener("touchend",r,!1),c.removeEventListener("touchcancel",s,!1))}var l=e.document,c=l.documentElement,u=Array.prototype.slice,p={},f=null;c.addEventListener("touchstart",i,!1)}(window,window.app||(window.app={module:{},plugin:{}})),function(e,t){function n(){this._handlers={}}function a(e,t,n){i.isLogging&&console.log("[Message]",{scope:e,event:t,args:n})}function i(e){var t=this;this._scope=e,this._event=new n,this._cache={},this._handler=function(e){for(var n=e.type,a=e.args,i=t._cache[n].slice(),o=0;i.length>o;o+=2)i[o].apply(i[o+1],a)},s[e]=this}var o={addEventListener:function(e,t){var n,a=this._handlers;n=a[e]||(a[e]=[]),n.push(t)},removeEventListener:function(e,t){var n=this._handlers;n[e]&&(n[e]=n[e].filter(function(e){return e!=t}),n[e].length||delete n[e])},dispatchEvent:function(e){var t=this._handlers,n=e.type;t.hasOwnProperty(n)&&t[n].forEach(function(t){t(e)}),this["on"+n]&&this["on"+n](e)}};for(var r in o)n.prototype[r]=o[r];var s={},l=/\s+/,c={on:function(e,t,n){var a,i,o=this,r=o._cache,s=o._event;if(!t)return o;for(e=e.split(l);i=e.shift();)a=r[i]||(r[i]=[]),a.length||s.addEventListener(i,this._handler),a.push(t,n);return o},off:function(e,t,n){var a,i,o=this,r=o._cache,s=o._event;for(e=e?e.split(l):Object.keys(r);i=e.shift();){!(t||n)&&(r[i]=[]),a=r[i];for(var c=a.length-2;c>=0;c-=2)t&&a[c]!==t||n&&a[c+1]!==n||a.splice(c,2);a.length||(delete r[i],s.removeEventListener(i,this._handler))}return o},once:function(e,t,n){function a(){t.apply(this,arguments),i.off(e,a,n)}var i=this;return i.on(e,a,n)},after:function(e,t,n){function a(){for(var e in s)if(!s[e])return!1;return!0}function i(){for(var e in s)s[e]=!1}var o,r=this,s={};return t?(e=e.split(l),o=e.join("&&"),e.forEach(function(e){s[e]=!1,r.on(e,function(){s[e]=!0,a()&&(r.trigger(o),i())})}),r.on(o,t,n),void 0):r},trigger:function(e){var t,n,i=this,o=i._cache,r=i._event;for(e=e.split(l),t=Array.prototype.slice.call(arguments,1);n=e.shift();)a(this._scope,n,t),o[n]&&r.dispatchEvent({type:n,args:t});return i}};for(var r in c)i.prototype[r]=c[r];i.isLogging=!1,i.mixto=function(e,t){var n=i.get(t);e.prototype&&(e=e.prototype);for(var a in c)void function(t){e[a]=function(){t.apply(n,arguments)}}(c[a])},i.get=function(e){if("string"==typeof e)return s[e]||(s[e]=new i(e));if(e instanceof i)return e;throw new TypeError},t.module.Event=n,t.module.MessageScope=i}(window,window.app||(window.app={module:{},plugin:{}})),function(e,t){function n(e,t){null!=t.id&&e.setAttribute("data-id",t.id),null!=t["class"]&&(e.className=t["class"]),null!=t.text&&(e.innerHTML=t.text),null!=t.bg&&(e.style.background=t.bg),null!=t.icon&&(e.innerHTML='<img src="'+t.icon+'" border="0" width="100%" height="100%" />'),e.style.display=t.hide===!0?"none":"",t.onChange&&t.onChange.call(e,t),t.handler&&(e.handler&&e.removeEventListener("click",e.handler,!1),e.addEventListener("click",e.handler=t.handler,!1))}function a(e){this.wrapEl=e,this.wrapEl.appendChild(this.animWrapEl=i.createElement("ul")),this.animWrapEl.appendChild(this.titleWrapEl=i.createElement("li")),this.animWrapEl.appendChild(this.backWrapEl=i.createElement("li")),this.animWrapEl.appendChild(this.funcWrapEl=i.createElement("li"))}var i=e.document,o={setTitle:function(e){"string"==typeof e?this.titleWrapEl.innerHTML=e:e instanceof HTMLElement&&(this.titleWrapEl.innerHTML="",this.titleWrapEl.appendChild(e))},setButton:function(e){var t,a;"back"===e.type?(t=this.backWrapEl,a=t.querySelector("a")):"func"===e.type?(t=this.funcWrapEl,a=t.querySelector('a[data-id="'+e.id+'"]')):e.id&&(a=this.wrapEl.querySelector('a[data-id="'+e.id+'"]'),a&&(t=a.parentNode)),!a&&t&&(a=i.createElement("a"),a.className=e.type,t.appendChild(a)),n(a,e)},getButton:function(e){return this.wrapEl.querySelector('a[data-id="'+e+'"]')},removeButton:function(e){function t(e){e&&(e.handler&&e.removeEventListener("click",e.handler),e.parentNode.removeChild(e))}if(e){if("string"==typeof e)var n=this.getButton(e);else if(e instanceof HTMLElement)var n=e;t(n)}else for(var a=this.funcWrapEl.querySelectorAll("a"),i=0;a.length>i;i++)t(a[i])}};for(var r in o)a.prototype[r]=o[r];t.module.Navbar=a}(window,window.app||(window.app={module:{},plugin:{}})),function(e,t){function n(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function a(e,t){function a(){}a.prototype=t.prototype;var i=new a;n(i,e.prototype),i.constructor=e,e.prototype=i}function i(){}var o=(t.module.MessageScope,{}),r={ready:function(){},startup:function(){},teardown:function(){},show:function(){},hide:function(){}};for(var s in r)i.prototype[s]=r[s];i.fn={},i.define=function(e){function t(){i.apply(this,arguments),this.initialize&&this.initialize.apply(this,arguments)}return a(t,i),n(t.prototype,i.fn),n(t.prototype,e),o[e.name]=new t},i.get=function(e){return o[e]},t.module.Page=i}(window,window.app||(window.app={module:{},plugin:{}})),function(e,t){function n(){}e.document;var a={load:function(e,t){var a=n.engine;a.load&&"string"==typeof e?a.load(e,t):t&&t(e)},compile:function(e){var t=n.engine;return this.originTemplate=e,this.compiledTemplate=t.compile&&"string"==typeof e?t.compile(e):function(){return e},this.compiledTemplate},render:function(e){var t=n.engine,a=this.compiledTemplate;return this.content=t.render&&a&&"object"==typeof e?t.render(a,e):a?a(e):Object.prototype.toString.call(e),this.content}};for(var i in a)n.prototype[i]=a[i];n.engine={},t.module.Template=n}(window,window.app||(window.app={module:{},plugin:{}})),function(e,t){function n(e,t){t||(t={}),this._wrapEl=e,this.set(t)}e.document;var a={set:function(e){e||(e={}),e.html&&(this._wrapEl.innerHTML=e.html),e.el&&((this._wrapEl.innerHTML="")||this._wrapEl.appendChild(e.el)),e.height&&(this._wrapEl.style.height=e.height+"px")},show:function(e){e&&this.set(e),this._wrapEl.style.display=""},hide:function(){this._wrapEl.style.display="none"}};for(var i in a)n.prototype[i]=a[i];t.module.Toolbar=n}(window,window.app||(window.app={module:{},plugin:{}})),function(e,t){function n(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function a(e,t){function a(){}a.prototype=t.prototype;var i=new a;n(i,e.prototype),i.constructor=e,e.prototype=i}function i(){var t=e.$;if("string"==typeof this.el){var n=this.el.split(/\s*\>\s*/),a=this.el=document.createElement("div");n.forEach(function(e){var t;if(t=e.match(/^(\w+)?(?:\#([^.]+))?(?:\.(.+))?$/i)){var n=document.createElement(t[1]||"div");t[2]&&n.setAttribute("id",t[2]),t[3]&&(n.className=t[3]),a.appendChild(n)}else a.innerHTML=e;a=a.childNodes[0]}),this.el=this.el.removeChild(this.el.childNodes[0])}t&&(this.$el=t(this.el))}var o=(e.document,{}),r={render:function(){},destory:function(){}};for(var s in r)i.prototype[s]=r[s];i.fn={},i.extend=function(e){function t(){r.apply(this,arguments),this.initialize&&this.initialize.apply(this,arguments)}var r=o[e.parent]||i;return a(t,r),n(t.prototype,r.fn),n(t.prototype,e),o[e.name]=t},i.get=function(e){return o[e]},t.module.View=i}(window,window.app||(window.app={module:{},plugin:{}})),function(e,t){function n(e,t,n,i){var o=(this.TYPE,a.getTransformOffset(e)),r={translate:{x:o.x,y:o.y}},s={translate:{x:o.x,y:o.y}};t=t.split(""),n(r,s,t[0],t[1]);for(var l in r)"translate"===l?(e.style.webkitTransition="",e.style.webkitTransform=a.makeTranslateString(r[l].x,r[l].y)):e.style[l]=r[l];s.translate=[s.translate.x,s.translate.y],e.style.webkitBackfaceVisibility="hidden",e.style.webkitTransformStyle="preserve-3d",a.doTransition(e,s,{duration:"0.4s",timingFunction:"ease",callback:function(){e.style.webkitBackfaceVisibility="",e.style.webkitTransformStyle="",e.style.webkitTransition="",i&&i()}})}var a=(e.document,t.module.Animation),i={L:"x",R:"x",T:"y",B:"y"},o={L:-1,R:1,T:-1,B:1},r={TYPE:{LEFT_IN:"LI",LEFT_OUT:"LO",RIGHT_IN:"RI",RIGHT_OUT:"RO",TOP_IN:"TI",TOP_OUT:"TO",BOTTOM_IN:"BI",BOTTOM_OUT:"BO"},move:function(e,t,n,i){var o=a.getTransformOffset(e);e.style.webkitBackfaceVisibility="hidden",e.style.webkitTransformStyle="preserve-3d",a.translate(e,"0.4s","ease","0s",o.x+t,o.y+n,function(){e.style.webkitBackfaceVisibility="",e.style.webkitTransformStyle="",e.style.webkitTransition="",i&&i()})},slide:function(e,t,a,r){n(e,t,function(e,t,n,r){var s=i[n],l=o[n];"I"===r?e.translate[s]+=l*a:t.translate[s]+=l*a},r)},"float":function(e,t,a,r){n(e,t,function(e,t,n,r){var s=i[n],l=o[n];"I"===r?(e.translate[s]+=l*a,e.opacity=0,t.opacity=1):(t.translate[s]+=l*a,e.opacity=1,t.opacity=0)},r)},fadeIn:function(e,t){n(e,"FI",function(e,t,n,a){"I"===a?(e.opacity=0,t.opacity=1):(e.opacity=1,t.opacity=0)},t)},fadeOut:function(e){n(e,"FO",function(e,t,n,a){"I"===a?(e.opacity=0,t.opacity=1):(e.opacity=1,t.opacity=0)},callback)},zoomIn:function(){},zoomOut:function(){}};t.module.Transition=r}(window,window.app||(window.app={module:{},plugin:{}})),function(e,n){function a(e){return 0-(e.bounceTop||0)}function i(e){var t=e.getBoundingClientRect(),n=e.parentNode.getBoundingClientRect(),i=a(e),o=0-t.height+n.height;return Math.min(o+(e.bounceBottom||0),i)}function o(e,t){return t>e.minScrollTop?t-e.minScrollTop:e.maxScrollTop>t?e.maxScrollTop-t:void 0}function r(e,t){return t>e.minScrollTop?t=e.minScrollTop:e.maxScrollTop>t&&(t=e.maxScrollTop),t}function l(e,t,n){var a=y.createEvent("HTMLEvents");a.initEvent(t,!0,!0);for(var i in n)a[i]=n[i];e.dispatchEvent(a)}function c(e){if(!stopBounce){for(var t=e.srcElement;!t.boundScrollEvent;)t=t.parentNode||t.offsetParent;if(b=t.boundScrollElement){var n=E.getTransformOffset(b);b.style.webkitBackfaceVisibility="hidden",b.style.webkitTransformStyle="preserve-3d",b.style.webkitTransition="",b.style.webkitTransform=E.makeTranslateString(n.x,n.y)}}}function u(e){return e.preventDefault(),!1}function p(){}function f(){!stopBounce&&b&&(b.transformOffset=E.getTransformOffset(b),b.minScrollTop=a(b),b.maxScrollTop=i(b),x=2.5,stopBounce=!1,k=!1,l(b,"scrollstart"))}function d(e){if(!stopBounce&&b){var t=b.transformOffset.y+e.displacementY;if(t>b.minScrollTop?(t=b.minScrollTop+(t-b.minScrollTop)/x,x*=1.003,x>4&&(x=4)):b.maxScrollTop>t&&(t=b.maxScrollTop-(b.maxScrollTop-t)/x,x*=1.003,x>4&&(x=4)),o(b,t)){if(t>b.minScrollTop)var n="pulldown",a=Math.abs(t-b.minScrollTop);else if(b.maxScrollTop>t)var n="pullup",a=Math.abs(b.maxScrollTop-t);b.bounceOffset=a,l(b,n)}b.style.webkitTransition="",b.style.webkitTransform=E.makeTranslateString(b.transformOffset.x,t)}}function h(){if(!stopBounce&&b){var e=E.getTransformOffset(b).y;o(b,e)?v():w()}}function g(e){if(!stopBounce&&b){var n=E.getTransformOffset(b).y,a=.008*(e/Math.abs(e));t=e/a,s=n+t*e/2,l(b,"bouncestart"),E.translate(b,t.toFixed(0)+"ms","cubic-bezier("+E.genCubicBezier(-t,0)+")","0s",b.transformOffset.x,s.toFixed(0),v)}}function v(){if(!stopBounce&&b){var e=E.getTransformOffset(b).y;e=r(b,e),E.translate(b,"0.4s","ease-in-out","0s",b.transformOffset.x,e,function(){l(b,"bounceend"),w()})}}function m(e){if(!stopBounce&&b){var t,n,a,i,o,r,s,l=E.getTransformOffset(b).y;k=!0,l>b.minScrollTop||b.maxScrollTop>l?g(t):(t=e.velocityY,t>1.5&&(t=1.5),-1.5>t&&(t=-1.5),n=.0015*(t/Math.abs(t)),a=t/n,i=l+a*t/2,i>b.minScrollTop?(r=b.minScrollTop-l,s=(t-Math.sqrt(-2*n*r+t*t))/n,o=t-n*s,E.translate(b,s.toFixed(0)+"ms","cubic-bezier("+E.genCubicBezier(-a,-a+s)+")","0s",b.transformOffset.x,b.minScrollTop,function(){g(o)})):b.maxScrollTop>i?(r=b.maxScrollTop-l,s=(t+Math.sqrt(-2*n*r+t*t))/n,o=t-n*s,E.translate(b,s.toFixed(0)+"ms","cubic-bezier("+E.genCubicBezier(-a,-a+s)+")","0s",b.transformOffset.x,b.maxScrollTop,function(){g(o)})):E.translate(b,a.toFixed(0)+"ms","cubic-bezier("+E.genCubicBezier(-a,0)+")","0s",b.transformOffset.x,i.toFixed(0),w))}}function w(){!stopBounce&&b&&(k=!1,setTimeout(function(){k||(b.style.webkitBackfaceVisibility="initial",b.style.webkitTransformStyle="flat",b.style.webkitTransition="",l(b,"scrollend"))},10))}var b,y=e.document,T=y.documentElement,E=n.module.Animation,x=2,k=!1;stopBounce=!1,prevented=!1;var S={enable:function(e,t){var n=e.parentNode||e.offsetParent;prevented||(prevented=!0,T.addEventListener("touchmove",u,!1)),n.boundScrollEvent||(n.boundScrollEvent=!0,n.addEventListener("touchstart",c,!1),n.addEventListener("touchend",p,!1),n.addEventListener("panstart",f,!1),n.addEventListener("pan",d,!1),n.addEventListener("panend",h,!1),n.addEventListener("flick",m,!1)),n.boundScrollElement=e,t?(e.bounceTop=t.bounceTop,e.bounceBottom=t.bounceBottom):(e.bounceTop=0,e.bounceBottom=0);var a=E.getTransformOffset(e).x,i=-e.bounceTop;e.style.webkitTransition="",e.style.webkitTransform=E.makeTranslateString(a,i)},disable:function(e){var t,n=e.parentNode||e.offsetParent;n.boundScrollElement===e&&(t=E.getTransformOffset(e),b=n.boundScrollElement=null,setTimeout(function(){e.style.webkitTransition="",e.style.webkitTransform=E.makeTranslateString(t.x,t.y)},50))},getScrollHeight:function(e){return e.getBoundingClientRect().height-(e.bounceTop||0)-(e.bounceBottom||0)},getScrollTop:function(e){var t=E.getTransformOffset(e);return-(t.y+(e.bounceTop||0))},refresh:function(e){e.style.height="auto",e.style.height=e.offsetHeight+"px",e.offset=E.getTransformOffset(e),e.minScrollTop=a(e),e.maxScrollTop=i(e),this.scrollTo(e,-e.offset.y-e.bounceTop)},offset:function(e,t){var n=e.getBoundingClientRect(),a=t.getBoundingClientRect(),i={top:a.top-((e.bounceTop||0)+n.top),left:a.left-n.left,right:n.right-a.right,width:a.width,height:a.height};return i.bottom=i.top+a.height,i},scrollTo:function(e,t){var n=E.getTransformOffset(e).x,t=-t-(e.bounceTop||0);t=r(e,t),e.style.webkitTransition="",e.style.webkitTransform=E.makeTranslateString(n,t)},scollToElement:function(e,t){var n=this.offset(e,t);this.scrollTo(e,n.top)},getViewHeight:function(e){return e.parentNode.getBoundingClientRect().height},getBoundaryOffset:function(e){var t=E.getTransformOffset(e).y;return o(e,t)},stopBounce:function(e){stopBounce=!0;var t=E.getTransformOffset(e),n=a(e),o=i(e),r=null;t.y>n+(e.bounceTop||0)?r=n+(e.bounceTop||0):t.y<o-(e.bounceBottom||0)&&(r=o-(e.bounceBottom||0)),null!=r&&E.translate(e,"0.4s","ease-in-out","0s",t.x,r)},resumeBounce:function(e){stopBounce=!1;var t,n=E.getTransformOffset(e),o=a(e),r=i(e);n.y>o?t=o:r>n&&(t=r),null!=t&&E.translate(e,"0.4s","ease-in-out","0s",n.x,t)}};n.module.Scroll=S}(window,window.app||(window.app={module:{},plugin:{}})),function(e,t){function n(e){var t=this,a=!0,r={};i.mixto(t,"model-"+o++),t.addProperty=function(i,o){Object.defineProperty(t,i,{get:function(){return r[i]||e[i]},set:function(o){r[i]&&(r[i].destory(),delete r[i]),null!=o&&(e[i]=o,"object"==typeof o&&(r[i]=new n(o),r[i].on("propertyChange",function(e){t.trigger("propertyChange",{target:e.target,value:e.value,name:e.name,path:i+"."+e.path})}))),!a&&t.trigger("propertyChange",{target:t,value:r[i]||e[i],name:i,path:i})}}),t[i]=o},t.update=function(e){if(e instanceof Array)for(var a=0;e.length>a;a++)e[a]instanceof n||this.addProperty(a,e[a]);else for(var i in e){if(t.hasOwnProperty(i))throw Error('property conflict "'+i+'"');!e.hasOwnProperty(i)||e[i]instanceof n||this.addProperty(i,e[i])}},t.destory=function(){for(var e in r)r[e].destory();t.off()},t.on("propertyChange",function(e){t.trigger("change:"+e.path,e.value)}),t.update(e),a=!1}function a(e){var t=this;!e instanceof Array||(t.push=function(n){e.push(n),t.addProperty(e.length-1,n)},t.pop=function(){var n=e.pop();return t[e.length]=null,n},Object.defineProperty(t,"length",{get:function(){return e.length}}),n.call(t,e))}var i=t.module.MessageScope,o=0;t.module.Model=n,t.module.Collection=a}(window,window.app||(window.app={module:{},plugin:{}})),function(e,t){function n(){var e=this;e.move=null,e.transition=null,e.datas=null,e._states=[],e._stateIdx=0,e._stateLimit=100}function a(e){return e.replace(f,"(P<$1>[^\\/]*?)").replace(d,"(P<$1>.*?)")}function i(e){var t=e.match(h),n={};return t&&t.forEach(function(e,t){n[e.replace(h,"$1")]=t}),n}function o(e){if(!e)return{};var t=e.split("&"),n={};return t.forEach(function(e){if(e){var t=e.split("=");n[t[0]]=t[1]}}),n}function r(e){return e=e.replace(h,""),RegExp("^("+e+")$")}function s(){return m.hash.slice(1)||""}function l(e){m.hash=e}function c(){var e=this;e._started=!1,e._routes={},e._stack=new n,w.mixto(this,"navigation")}var u={reset:function(){var e=this;e.move=null,e.transition=null,e.datas=null,e.type=null,e._states=[],e._stateIdx=0,e._stateLimit=100},pushState:function(e,t,a,i){var o=this,r=o._states,s=o._stateIdx,l=o._stateLimit,c=r.length,u=o.move,p=o.transition,f=o.datas,d=o.type,h=r[s-1],g=r[s+1],v={name:e,fragment:t,type:d,params:a||{},datas:f||{}};for(var m in i)v.datas[m]=i[m];return null==u&&(p=u=!f&&n.isEquals(h,v)?"backward":"forward"),"backward"===u?0===s&&c>0?r.unshift(v):s>0&&(s--,v=h):"forward"===u&&(s===l-1?(r.shift(),r.push(v),v.referer=location.href.replace(/#[^#]*/,"#"+r[s-1].fragment)):0===s&&0===c?(r.push(v),v.referer=document.referer||""):!f&&n.isEquals(g,v)?(s++,v=g):n.isEquals(r[s],v)?v=r[s]:(s++,r.splice(s),r.push(v),v.referer=location.href.replace(/#[^#]*/,"#"+r[s-1].fragment))),v.move=u,v.transition=p,v.index=s,o.move=null,o.transition=null,o.datas=null,o._stateIdx=s,v},getState:function(){return this._states[this._stateIdx]},getIndex:function(){return this._stateIdx}};for(var p in u)n.prototype[p]=u[p];n.isEquals=function(e,t){return e&&t?e.name!==t.name||e.fragment!==t.fragment?!1:!0:!1};var f=/\:([a-z0-9_-][a-z0-9_-]*)/gi,d=/\*([a-z0-9_-][a-z0-9_-]*)/gi,h=/P\<([a-z0-9_-][a-z0-9_-]*?)\>/gi,g="?",v=e.history,m=e.location,w=t.module.MessageScope,b={getStack:function(){return this._stack},handleEvent:function(){var e,t,n,a=this,i=a._routes,o=!0;if(a._started){t=s();for(var r in i)if(e=i[r],e["default"])n=e;else if(e.routeReg.test(t.split(g)[0])&&(o=!1,e.callback(t),e.last))break;o&&n&&n.callback(t)}},addRoute:function(e,t,n){function s(t,a,i){var o=u._stack.pushState(e,t,a,i);n.callback&&n.callback(o),u.trigger(o.move,o)}var l,c,u=this;1===arguments.length&&(n=arguments[0],e=null,t=null),n||(n={}),n["default"]?u._routes[e]={"default":!0,callback:function(e){var t=o(e.split(g)[1]||"");s(e,{},t)}}:e&&t&&(t=a(t),l=i(t),c=r(t),u._routes[e]={routeText:t,routeReg:c,callback:function(e){var t=e.split(g),n=t[0].match(c).slice(2),a=o(t[1]||""),i={};for(var r in l)i[r]=n[l[r]];s(e,i,a)},last:!!n.last})},removeRoute:function(e){this._routes[e]&&delete this._routes[e]},hasRoute:function(e){return!!this._routes[e]},start:function(){return this._started?!1:(this._started=!0,e.addEventListener("hashchange",this,!1),this.handleEvent(),!0)},stop:function(){return this._started?(this._routes={},this._stack.reset(),this._started=!1,e.removeEventListener("hashchange",this,!1),!0):!1},push:function(e,t){var n=this,a=n._stack,i=a.getState(),o=a.getIndex();if(args=[],e||(e=""),t||(t={}),a.move="forward",a.transition="forward",/^(https?\:)?\/\//i.test(e))location.href=e;else if(e){if(!i||i.fragment!==e||t.data){if(t.type||(t.type="GET"),t.data||(t.data={}),"GET"===t.type.toUpperCase())for(var r in t.data)args.push(r+"="+t.data[r]);"POST"===t.type.toUpperCase()&&(a.datas=t.data),"backward"===t.transition&&(a.transition="backward"),a.type=t.type.toUpperCase(),l(e+(args.length?g+args.join("&"):""))}}else a._states.length-1>o&&v.forward()},pop:function(e){var t=this,n=t._stack,a=n.getIndex();0!==a&&(n.move="backward",n.transition="backward",e&&"forward"===e.transition&&(n.transition="forward"),v.back())},resolve:function(e,t){var n,a=this._routes[e],i="";return a&&(n=a.routeText,i=n.replace(/\(P<[a-z0-9_-][a-z0-9_-]*?>.*?\)/g,function(e){h.lastIndex=0;var n=h.exec(e)[1];return t[n]||"undefined"}).replace("\\/?","").replace("\\","")),i}};for(var p in b)c.prototype[p]=b[p];c.instance=new c,t.module.StateStack=n,t.module.Navigation=c}(window,window.app||(window.app={module:{},plugin:{}})),function(e,t){function n(e,t){return t||(t=p),t.querySelector(e)}function a(e,t){var n=p.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function i(){if(h)a(window,"scrollend");else{var e=window.scrollY;setTimeout(function(){window.scrollY===e&&a(window,"scrollend")},150)}}function o(e,n){if(e.plugins)for(var a in e.plugins){var i=t.plugin[a],o=e.plugins[a];o===!0&&(o=e.plugins[a]={}),i&&o&&i[n]&&i[n](e,o)}}function r(e,n,a){if(2===arguments.length&&(a=n,n=e,e=null),n.plugins)for(var i in n.plugins){var o=t.plugin[i],r=n.plugins[i];if(o&&r){if(r===!0&&(r=n.plugins[i]={}),e){e.plugins[i]||(e.plugins[i]={});for(var s in r)null==e.plugins[i][s]&&(e.plugins[i][s]=n.plugins[i][s]);r=e.plugins[i]}o[a]&&o[a](n,r)}}}function s(e,t,n){var a=e[t];if("string"==typeof a)C.on("template:loaded",function(e){a===e&&(C.off("template:loaded",arguments.callee),n&&n())});else if("object"==typeof a)for(var t in a)s(a,t,function(){var e=!0;for(var t in a)if("function"!=typeof a[t]){e=!1;break}e&&n&&n()});else n&&n()}function l(e,t){return e.compile(t),function(t){return e.render(t)}}function c(e,t){var n=e[t];if("string"==typeof n){var a;O[n]?e[t]=O[n]:n.match(/\.tpl$/g)?(a=new b,a.load(n,function(i){e[t]=O[n]=l(a,i),C.trigger("template:loaded",n)})):(a=new b,e[t]=O[n]=l(a,n))}else if("object"==typeof n)for(var t in n)c(n,t)}function u(){return w.getStack().getState()}var p=e.document,f=e.$,d=navigator.appVersion,h=/iphone|ipad/gi.test(d),g=t.module,v=g.MessageScope,m=g.Navigation,w=m.instance,b=g.Template,y=g.View,T=g.Page,E=g.Navbar,x=g.Toolbar,k=g.Content,S=g.Scroll,_=(g.Animation,g.Transition),L={},M={},O={},N={},B=t.config={viewport:null,templateEngine:null,resourceCombo:null,resourceBase:"./",enableMessageLog:!1,enableContent:!0,enableNavbar:!1,enableToolbar:!1,enableScroll:!1,enableTransition:!1},C=v.get("hooks");C.on("app:start",function(){var e=t.config;E||(e.enableNavbar=!1),x||(e.enableToolbar=!1),S||(e.enableScroll=!1),_||(e.enableTransition=!1),v.isLogging=e.enableMessageLog,e.enableNavbar===!0&&(e.enableNavbar={}),e.enableToolbar===!0&&(e.enableToolbar={}),e.enableScroll===!0&&(e.enableScroll={}),e.enableTransition===!0&&(e.enableTransition={}),"number"==typeof e.enableContent?e.enableContent={cacheLength:e.enableContent}:e.enableContent instanceof HTMLElement?e.enableContent={wrapEl:e.enableContent}:"object"!=typeof e.enableContent&&(e.enableContent={})}),"onorientationchange"in e&&window.addEventListener("onorientationchange",function(){setTimeout(function(){C.trigger("orientaion:change")},10)},!1),window.addEventListener("resize",function(){setTimeout(function(){C.trigger("screen:resize")},10)}),C.on("view:extend",function(e){var t=e.prototype.render,n=e.prototype.destory;e.prototype.render=function(){var e=this,n=arguments;s(e,"template",function(){C.trigger("view:render",e,arguments),t.apply(e,n)})},e.prototype.destory=function(){C.trigger("view:destory",this,arguments),n.apply(this,arguments)}}),C.on("page:define",function(e){var t=e.ready,n=e.startup,a=e.teardown,i=e.show,o=e.hide,r=!1,s=!1;e.ready=function(n){r||(C.trigger("page:ready",n,e),t.call(e),r=!0)},e.startup=function(t){C.trigger("page:startup",t,e),n.call(e)},e.show=function(t){C.trigger("page:show",t,e),i.call(e,s),s=!0},e.hide=function(t){C.trigger("page:hide",t,e),o.call(e,s)},e.teardown=function(t){C.trigger("page:teardown",t,e),a.call(e),s=!1},e.html=function(e){this.el.innerHTML=e}}),C.on("page:define page:defineMeta",function(e){var t=e.name,n=e.route;w.hasRoute(t)||(n?"string"==typeof n&&(n={name:t,text:n}):n={name:t,"default":!0},w.addRoute(n.name,n.text,{"default":n["default"],callback:n.callback,last:n.last}))}),C.on("app:start",function(){var e,t=B.enableNavbar,a=B.enableToolbar,o=B.enableContent,r=B.enableTransition,s=B.enableScroll;B.viewport||(B.viewport=n(".viewport")||p.body),o.wrapEl||(o.wrapEl=n(".content",B.viewport)||B.viewport),o.cacheLength||(o.cacheLength=o.wrapEl===B.viewport?1:5),e=o.instance=new k(o.wrapEl,{cacheLength:o.cacheLength}),t&&(B.viewport.className+=" enableNavbar",t.wrapEl||(t.wrapEl=n(".navbar",B.viewport)),t.instance=new E(t.wrapEl)),a&&(B.viewport.className+=" enableToolbar",a.wrapEl||(a.wrapEl=n(".toolbar",B.viewport)),a.instance=new x(a.wrapEl,a)),s?(B.viewport.className+=" enableScroll",s.wrapEl=e.getActive()):window.addEventListener("scroll",i,!1),r&&(B.viewport.className+=" enableTransition",r.wrapEl=e.contentEl)
}),C.on("app:start",function(){for(var e in t.plugin){var n=t.plugin[e];n.onAppStart&&n.onAppStart()}}),C.on("view:render",function(e){o(e,"onViewRender")}),C.on("view:destory",function(e){o(e,"onViewTeardown")}),C.on("page:define",function(e){r(e,"onPageDefine")}),C.on("page:startup",function(e,t){r(e,t,"onPageStartup")}),C.on("page:show",function(e,t){r(e,t,"onPageShow")}),C.on("page:hide",function(e,t){r(e,t,"onPageHide")}),C.on("page:teardown",function(e,t){r(e,t,"onPageTeardown")}),C.once("view:extend page:define",function(){b.engine=B.templateEngine||{}}),C.on("view:extend",function(e){e.prototype.template&&c(e.prototype,"template")}),C.on("page:define",function(e){e.template&&c(e,"template")}),C.on("app:start",function(){function e(){var e=d.pageMeta.title||h.title,n=d.pageMeta.buttons||h.buttons;if(n)for(var a=0;n.length>a;a++){var i=n[a],o=i.handler;i.id||(i.id="btn-"+Date.now()),"string"==typeof o&&(o=h[o]),"back"===i.type&&(i.hide=i.autoHide!==!1&&1>d.index,o||(o=function(){t.navigation.pop()})),i.handler=function(e){return function(t){e&&e.call(h,t,d.index)}}(o)}else n=[{id:"back",type:"back",text:"back",hide:1>d.index?!0:!1,handler:function(){t.navigation.pop()}}];if(O||!v){t.navigation.resetNavbar(),t.navigation.setTitle(e);for(var a=0;n.length>a;a++)t.navigation.setButton(n[a])}else t.navigation.switchNavbar(e,d.transition,n)}function n(){if(b){var e=b.instance,n=d.pageMeta.toolbar||h.toolbar;b.wrapEl.innerHTML="","number"==typeof n&&(n={height:n}),n?(t.navigation.setToolbar(n),e.show()):e.hide()}}function a(){O||("backward"===d.move?E.previous():E.next())}function i(){var e=k?B.viewport.offsetHeight:window.innerHeight;m&&(e-=m.wrapEl.offsetHeight),b&&(e-=b.wrapEl.offsetHeight),k?y.wrapEl.style.height=e+"px":(y.wrapEl.style.minHeight=e+"px",y.instance.getActive().style.minHeight=e+"px")}function o(){!O&&k&&(S.disable(k.wrapEl),k.wrapEl=E.getActive(),S.enable(k.wrapEl,h.scroll))}function r(){if(O)C.trigger("navigation:switchend",d);else{var e=d.transition;if(x&&v){var t=x.wrapEl,n=E.transEl,a=E.transShadeEl,i=t.getBoundingClientRect().width,o=i*("backward"===e?1:-1),r=t.className+=" "+e;a.style["backward"===e?"right":"left"]=i+"px",n.style.display="block",_.move(a,o,0,function(){E.setClassName(),t.className=r.replace(" "+e,""),a.style.cssText="",n.style.cssText="",C.trigger("navigation:switchend",d)})}else E.setClassName(),C.trigger("navigation:switchend",d)}}function l(e){for(var n in t.plugin){var a=t.plugin[n];a&&(d.plugins[n]||(d.plugins[n]={}),a[e]&&a[e](d.plugins[n]))}}function c(){var e;(e=M[d.name])&&(e.css&&t.loadResource(e.css,"css"),e.js&&t.loadResource(e.js,"js",function(){h=T.get(d.name),h&&(h.ready(),u())}))}function u(){h.el=E.getActive(),f&&(h.$el=f(h.el)),e(),n(),o(),r(),s(h,"template",p)}function p(){v&&v.hide(g);var e=h.el.getAttribute("data-fragment"),t=L[e];e===d.fragment?h.show(d):(t&&(t.page.teardown(t.state),delete L[e]),L[d.fragment]={state:d,page:h},h.el.innerHTML="",h.el.setAttribute("data-fragment",d.fragment),h.startup(d),h.show(d)),g=d,v=h}var d,h,g,v,m=B.enableNavbar,b=B.enableToolbar,y=B.enableContent,E=y.instance,x=B.enableTransition,k=B.enableScroll,O=!1;w.on("forward backward",function(){d=arguments[0],d.pageMeta||(d.pageMeta={}),d.plugins||(d.plugins={}),h=T.get(d.name),O=g&&g.name===d.name,C.trigger("navigation:switch",d),h?u():c()}),C.on("navigation:switch",function(){a(),l("onNavigationSwitch")}),C.on("navigation:switchend",function(){i(),l("onNavigationSwitchEnd")}),C.after("page:show navigation:switchend",function(){l("onDomReady")}),C.on("orientaion:change screen:resize",function(){i()})}),t.start=function(e){for(var n in e)t.config[n]=e[n];C.trigger("app:start"),w.start()},t.setTemplate=function(e,t){"string"==typeof t?O[e]=l(new b,t):"function"==typeof t&&(O[e]=t)},t.extendView=function(e){var t=y.extend(e);return C.trigger("view:extend",t),t},t.getView=function(e){var t=y.get(e);if(t){var n=Object.create(t.prototype),a=Array.prototype.slice.call(arguments,1);return t.apply(n,a),n}},t.definePage=function(e){var t=T.define(e);return C.trigger("page:define",t),t},t.definePageMeta=function(e){e instanceof Array||(e=[e]),e.forEach(function(e){M[e.name]=e,C.trigger("page:defineMeta",e)})},t.getPage=function(e){return T.get(e)};var H=document.createElement("a");t.loadResource=function(e,n,a){function i(){return"resource-"+Date.now()+"-"+Object.keys(N).length}function o(e){return e.match(/^(https?\:)?\/\//)?e:t.config.resourceBase+e}function r(e,t){if(!e)return t();if(e=H.href=o(e),"string"==typeof N[e])return t();var a=N[e]=i();if("js"===n||e.match(/\.js$/)){var r=document.createElement("script"),s=!1;r.id=a,r.async=!0,r.onload=r.onreadystatechange=function(){s||(s=!0,t&&t(e))},r.src=e,p.body.appendChild(r)}else if("css"===n||e.match(/\.css$/)){var l=document.createElement("link");l.id=a,l.type="text/css",l.rel="stylesheet",l.href=e,p.body.appendChild(l),t()}}2===arguments.length&&"function"==typeof arguments[1]&&(a=arguments[1],n=null),"string"==typeof e&&(e=[e]);var s=[],l=B.resourceCombo;e.forEach(function(e){H.href=o(e),N[H.href]||(N[H.href]=!0,s.push(e))}),l&&(s=l(s),"string"==typeof s&&(s=[s])),r(s.shift(),function(){s.length?r(s.shift(),arguments.callee):a&&a()})},t.navigation={push:function(e,t){w.push(e,t)},pop:function(){w.pop()},resolveFragment:function(e,t){return w.resolve(e,t)},getReferer:function(){return u().referer},getParameter:function(e){var t=u();return t.params[e]||t.datas[e]},getParameters:function(){var e=u(),t={};for(var n in e.params)t[n]=e.params[n];for(var n in e.datas)t[n]=e.datas[n];return t},setData:function(e,t){u().datas[e]=t},setTitle:function(e){var t=u();B.enableNavbar&&B.enableNavbar.instance.setTitle(e),t.pageMeta.title=e},setButton:function(e){if(e instanceof Array)for(var t=0;e.length>t;t++)this.setButton(e[t]);else{var n=u();if(B.enableNavbar&&B.enableNavbar.instance.setButton(e),n.pageMeta.buttons){for(var t=0;n.pageMeta.buttons.length>t;t++){var a=n.pageMeta.buttons[t];if("back"===a.type&&"back"===e.type||a.id===e.id){for(var i in e)a[i]=e[i];return}}n.pageMeta.buttons.push(e)}else n.pageMeta.buttons=[e]}},switchNavbar:function(e,t,n){if(B.enableNavbar){this.resetNavbar(),this.setTitle(e);for(var a=0;n.length>a;a++)this.setButton(n[a]);_.float(B.enableNavbar.instance.animWrapEl,"backward"===t?"LI":"RI",50)}},resetNavbar:function(){var e=u();B.enableNavbar&&B.enableNavbar.instance.removeButton(),e.pageMeta.buttons=[]},setToolbar:function(e){var t=u();B.enableToolbar&&B.enableToolbar.instance.set(e),t.pageMeta.toolbar=e}},t.scroll={getScrollHeight:function(){var e=B.enableScroll;return e?S.getScrollHeight(e.wrapEl):p.body.scrollHeight},getScrollTop:function(){var e=B.enableScroll;return e?S.getScrollTop(e.wrapEl):p.body.scrollTop},refresh:function(){var e=B.enableScroll;e&&S.refresh(e.wrapEl)},offset:function(e){var t=B.enableScroll;return t?S.offset(t.wrapEl,e):S.offset(p.body,e)},scrollTo:function(e){var t=B.enableScroll;t?S.scrollTo(t.wrapEl,e):p.body.scrollTop=e},scrollToElement:function(e){var t=B.enableScroll;t?S.scrollToElement(t.wrapEl,e):e.scrollIntoView()},getViewHeight:function(){var e=B.enableScroll;return e?S.getViewHeight(e.wrapEl):window.innerHeight},getBoundaryOffset:function(){var e=B.enableScroll;return e?S.getBoundaryOffset(e.wrapEl):0},stopBounce:function(){var e=B.enableScroll;e&&S.stopBounce(e.wrapEl)},resumeBounce:function(){var e=B.enableScroll;e&&S.resumeBounce(e.wrapEl)},addEventListener:function(e,t,n){var a=B.enableScroll,i=(B.enableContent.instance,a?a.wrapEl:window);i.addEventListener(e,t,n)},removeEventListener:function(e,t){var n=B.enableScroll,a=(B.enableContent.instance,n?n.wrapEl:window);a.removeEventListener(e,t)},getElement:function(){var e=B.enableScroll;return e?e.wrapEl:p.body}}}(window,window.app||(window.app={module:{},plugin:{}}));