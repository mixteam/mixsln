(function(a,b){var d=(a.document,a.sessionStorage),e=require("mix/core/0.3.0/url/navigate").singleton,f="mix_storage_001_";e.on("forward backward",function(){b.plugin.stateStorage.saveAll()}),b.plugin.stateStorage={saveAll:function(){e._stateIdx+"",e._states.length+"",d.setItem(f+"state_index",e._stateIdx),d.setItem(f+"state_length",e._states.length),e._states.forEach(function(a,b){d.setItem(f+"state_item["+b+"]",JSON.stringify(a))})},save:function(){var a=e._stateIdx,b=e._states[a];d.setItem(f+"state_item["+a+"]",JSON.stringify(b))},loadAll:function(){var a,b;for(e._stateIdx=parseInt(d.getItem(f+"state_index")||0),a=parseInt(d.getItem(f+"state_length")||0),b=0;a>b;b++)e._states[b]=JSON.parse(d.getItem(f+"state_item["+b+"]")||"{}")},load:function(){var a=e._stateIdx;e._states[a]=JSON.parse(d.getItem(f+"state_item["+a+"]")||"{}")},clear:function(){var a=e._stateLimit;d.removeItem(f+"state_index"),d.removeItem(f+"state_length");for(var b=0;a>b;b++)d.removeItem(f+"state_item["+b+"]")}},b.plugin.stateStorage.loadAll()})(window,window.app);