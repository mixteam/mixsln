(function(a,b){function e(){return d.fn.getScrollTop()}function g(a){d.fn.scrollTo(a)}var d;a.document,b.plugin.scrollpos={_options:null,_setPos:function(a){this._options.state.pos=null!=a?a:e()},_transitonEnd:function(){this._options.page.transitonEnd=!0},_resetPos:function(){var a=this._options;a.page.first?(a.page.first=!1,a.page.transitonEnd?g(a.state.pos):b.component.once("backwardTransitionEnd",function(){g(a.state.pos)})):this._setPos(0)},on:function(a,c){this._options=c,c.page.first=!0,c.page.transitonEnd=!1,d=b.component.get("scroll"),b.component.on("scrollEnd",this._setPos,this),b.component.on("backwardTransitionEnd",this._transitonEnd,this),a.on("rendered",this._resetPos,this)},off:function(a){b.component.off("scrollEnd",this._setPos,this),b.component.off("backwardTransitionEnd",this._transitonEnd,this),a.off("rendered",this._resetPos,this)}}})(window,window.app);